{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.object.assign.js","webpack:///./node_modules/core-js/internals/object-assign.js","webpack:///./node_modules/picturefill/dist/picturefill.js","webpack:///./node_modules/intersection-observer/intersection-observer.js","webpack:///./node_modules/url-search-params-polyfill/index.js","webpack:///./node_modules/object-fit-images/dist/ofi.common-js.js","webpack:///./node_modules/object-fit-videos/object-fit-videos.js","webpack:///./node_modules/whatwg-fetch/fetch.js","webpack:///./node_modules/stickybits/dist/stickybits.es.js","webpack:///./src/js/theme/ie.js"],"names":["$","assign","target","stat","forced","Object","DESCRIPTORS","uncurryThis","call","fails","objectKeys","getOwnPropertySymbolsModule","propertyIsEnumerableModule","toObject","IndexedObject","$assign","defineProperty","concat","module","exports","b","enumerable","get","this","value","A","B","symbol","Symbol","split","forEach","chr","join","source","T","argumentsLength","arguments","length","index","getOwnPropertySymbols","f","propertyIsEnumerable","key","S","keys","j","window","timer","dummySrc","fixRespimg","findPictureImgs","onResize","mq","init","ua","navigator","userAgent","HTMLPictureElement","test","match","RegExp","$1","addEventListener","document","createElement","img","sizes","picture","parentNode","nodeName","toUpperCase","cloneNode","insertBefore","firstElementChild","setTimeout","removeChild","_pfLastSize","offsetWidth","i","imgs","querySelectorAll","clearTimeout","matchMedia","addListener","srcset","readyState","undefined","eminpx","alwaysCheckWDescriptor","evalId","pf","isSupportTestReady","noop","image","getImgAttr","getAttribute","setImgAttr","setAttribute","removeImgAttr","removeAttribute","docElem","documentElement","types","cfg","algorithm","supportAbort","curSrcProp","regWDesc","regSize","setOptions","picturefillCFG","fsCss","isVwDirty","cssCache","sizeLengthCache","DPR","devicePixelRatio","units","px","anchor","alreadyRun","regexLeadingSpaces","regexLeadingCommasOrSpaces","regexLeadingNotSpaces","regexTrailingCommas","regexNonNegativeInteger","regexFloatingPoint","on","obj","evt","fn","capture","attachEvent","memoize","cache","input","isSpace","c","regLength","buildStr","image2","width1","isDomReady","func","wait","timeout","timestamp","later","regReady","run","timerId","lastClientWidth","evalCSS","css","args","string","replace","toLowerCase","parsedLength","Function","e","setResolution","candidate","sizesattr","w","cWidth","calcListLength","res","d","picturefill","opt","elements","plen","options","nodeType","context","qsa","reevaluate","reselect","sel","selShort","setupRun","fillImg","teardownRun","ascendingSort","a","getCandidateForSrc","src","set","candidates","parseSet","makeUrl","url","console","warn","implementation","hasFeature","ns","Date","getTime","substr","supSrcset","supSizes","supPicture","complete","width","onload","onerror","u","setSize","href","matchesMedia","matches","media","mMQ","apply","calcLength","sourceSizeValue","supportsType","type","parseSize","sourceSizeStr","cands","collectCharacters","regEx","chars","exec","substring","pos","descriptors","currentDescriptor","state","inputLength","parseDescriptors","h","desc","lastChar","intVal","floatVal","pError","parseInt","parseFloat","has1x","push","tokenize","charAt","slice","parseSrcset","getEmValue","body","div","originalHTMLCSS","style","cssText","originalBodyCSS","appendChild","sourceSizeListStr","uT","winningLength","strValue","unparsedSizesList","unparsedSizesListLength","unparsedSize","lastComponentValue","size","s","regexCssLengthWithUnits","regexCssCalc","str","chrctr","component","componentArray","listArray","parenDepth","inComment","pushComponent","pushComponentArray","parseComponentValues","pop","parseSizes","setRes","len","applySetCandidate","bestCandidate","curSrc","curCan","candidateSrc","abortCurSrc","lowerValue","higherValue","dprValue","isCached","bonusFactor","bonus","meanDensity","imageData","dpr","sets","setSrcToCur","cached","sort","Math","pow","sqrt","setSrc","origWidth","getSet","parseSets","element","parent","srcsetAttribute","imageSet","isWDescripor","srcsetParsed","hasPicture","pic","sources","getElementsByTagName","getAllSourceElements","supported","srcAttr","parsed","extreme","evaled","srcSetCandidates","matchingSet","evaluated","applyBestCandidate","max","innerWidth","clientWidth","height","innerHeight","clientHeight","vw","vh","em","rem","fillImgs","last","_","name","shift","typeUri","Image","detectTypeSupport","IntersectionObserverEntry","prototype","intersectionRatio","startDoc","doc","frame","getFrameElement","ownerDocument","registry","crossOriginUpdater","crossOriginRect","IntersectionObserver","THROTTLE_TIMEOUT","POLL_INTERVAL","USE_MUTATION_OBSERVER","_setupCrossOriginUpdater","boundingClientRect","intersectionRect","convertFromParentRect","top","bottom","left","right","observer","_checkForIntersections","_resetCrossOriginUpdater","observe","_observationTargets","some","item","Error","_registerInstance","entry","_monitorIntersections","unobserve","filter","_unmonitorIntersections","_unregisterInstance","disconnect","_unmonitorAllIntersections","takeRecords","records","_queuedEntries","_initThresholds","opt_threshold","threshold","Array","isArray","t","isNaN","_parseRootMargin","opt_rootMargin","margins","map","margin","parts","unit","win","defaultView","_monitoringDocuments","indexOf","callback","monitoringInterval","domObserver","setInterval","addEvent","MutationObserver","attributes","childList","characterData","subtree","_monitoringUnsubscribes","clearInterval","removeEvent","rootDoc","root","itemDoc","unsubscribe","splice","unsubscribes","rootIsInDom","_rootIsInDom","rootRect","_getRootRect","targetRect","getBoundingClientRect","rootContainsTarget","_rootContainsTarget","oldEntry","_computeTargetAndRootIntersection","rootBounds","newEntry","time","performance","now","_hasCrossedThreshold","isIntersecting","_callback","getComputedStyle","display","rect1","rect2","getParentNode","atRoot","parentRect","parentComputedStyle","frameRect","frameIntersect","overflow","min","isDoc","html","_expandRectByRootMargin","rect","_rootMarginValues","newRect","oldRatio","newRatio","thresholds","containsDeep","frameElement","ensureDOMRect","targetArea","intersectionArea","Number","toFixed","opt_options","bind","rootMargin","node","event","opt_useCapture","removeEventListener","detatchEvent","el","err","y","x","parentBoundingRect","parentIntersectionRect","child","assignedSlot","host","self","ampersandTest","nativeURLSearchParams","URLSearchParams","isSupportObjectConstructor","toString","decodesPlusesCorrectly","encodesAmpersandsCorrectly","append","URLSearchParamsPolyfill","iterable","iterator","propValue","appendTo","dict","has","getAll","hasOwnProperty","query","encode","Proxy","construct","USPProto","polyfill","thisArg","parseToDict","getOwnPropertyNames","k","values","items","makeIterator","entries","search","encodeURIComponent","decode","decodeURIComponent","arr","next","done","TypeError","pairs","val","JSON","stringify","prop","global","OFI","propRegex","testImg","supportsObjectFit","supportsObjectPosition","supportsOFI","supportsCurrentSrc","currentSrc","nativeGetAttribute","nativeSetAttribute","autoModeEnabled","setPlaceholder","placeholder","onImageReady","naturalWidth","fixOne","fontFamily","props","getStyle","ofi","skipTest","naturalHeight","ss","keepSrcUsable","polyfillCurrentSrc","backgroundImage","backgroundPosition","backgroundRepeat","backgroundOrigin","backgroundSize","fix","opts","startAutoMode","tagName","watchMQ","getOfiImageMaybe","HTMLImageElement","String","hijackAttributes","videos","isEdge","$el","parsePosition","fitIt","setCss","getCss","$wrap","replaceChild","wrapCss","boxSizing","border","padding","opacity","doWork","videoRatio","videoWidth","videoHeight","wrapWidth","wrapHeight","wrapRatio","newHeight","newWidth","marginLeft","marginTop","round","autoplay","play","initialize","running","CustomEvent","createEvent","initEvent","requestAnimationFrame","dispatchEvent","throttle","globalThis","support","Blob","viewClasses","isArrayBufferView","ArrayBuffer","isView","normalizeName","normalizeValue","iteratorFor","Headers","headers","header","consumed","bodyUsed","Promise","reject","fileReaderReady","reader","resolve","result","error","readBlobAsArrayBuffer","blob","FileReader","promise","readAsArrayBuffer","bufferClone","buf","view","Uint8Array","byteLength","buffer","Body","_initBody","_bodyInit","_bodyText","isPrototypeOf","_bodyBlob","FormData","_bodyFormData","DataView","_bodyArrayBuffer","rejected","arrayBuffer","isConsumed","byteOffset","then","text","readAsText","fromCharCode","readArrayBufferAsText","formData","json","parse","oldValue","methods","Request","method","upcased","credentials","mode","signal","referrer","reParamSearch","form","trim","bytes","Response","bodyInit","status","ok","statusText","clone","response","redirectStatuses","redirect","RangeError","location","DOMException","message","stack","create","constructor","fetch","request","aborted","xhr","XMLHttpRequest","abortXhr","abort","rawHeaders","getAllResponseHeaders","line","responseURL","responseText","ontimeout","onabort","open","fixUrl","withCredentials","responseType","setRequestHeader","onreadystatechange","send","_extends","Stickybits","_this","o","version","customStickyChangeNumber","noStyles","stickyBitStickyOffset","parentClass","scrollEl","querySelector","stickyClass","stuckClass","stickyChangeClass","useStickyClasses","useFixed","useGetBoundingClientRect","verticalPosition","applyStyle","positionVal","definePosition","instances","_this$props","verticalPositionStyle","positionStyle","els","_styles","instance","addInstance","styles","position","classes","manageState","_proto","stickyProp","prefix","head","_this2","isWin","se","getClosestParent","computeScrollOffsets","toggleClasses","stateChange","stateContainer","p","parentElement","getTopPosition","pageYOffset","scrollTop","topPosition","offsetTop","offsetParent","it","isCustom","isTop","scrollElOffset","stickyStart","stickyChangeOffset","offsetHeight","parentBottom","offset","stickyChange","stickyStop","r","cArray","className","rItem","_this3","start","change","stop","pv","sticky","stuck","vp","aS","rAFStub","rAF","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","scroll","scrollY","isSticky","isStuck","isStickyChange","_styles2","_classes","_styles3","_extends2","_classes2","_style$classes","stateStyles","default","_ref","stl","cls","idx","update","updatedProps","_this4","updatedProp","removeInstance","_styles4","_classes3","cleanup","stickybits","objectFitImages","objectFitVideos","Element","msMatchesSelector","webkitMatchesSelector","closest"],"mappings":"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","file":"ie.1b3dc663ab4cd5efe936.js","sourcesContent":["var $ = require('../internals/export');\nvar assign = require('../internals/object-assign');\n\n// `Object.assign` method\n// https://tc39.es/ecma262/#sec-object.assign\n// eslint-disable-next-line es/no-object-assign -- required for testing\n$({ target: 'Object', stat: true, forced: Object.assign !== assign }, {\n  assign: assign\n});\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar call = require('../internals/function-call');\nvar fails = require('../internals/fails');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\n\n// eslint-disable-next-line es/no-object-assign -- safe\nvar $assign = Object.assign;\n// eslint-disable-next-line es/no-object-defineproperty -- required for testing\nvar defineProperty = Object.defineProperty;\nvar concat = uncurryThis([].concat);\n\n// `Object.assign` method\n// https://tc39.es/ecma262/#sec-object.assign\nmodule.exports = !$assign || fails(function () {\n  // should have correct order of operations (Edge bug)\n  if (DESCRIPTORS && $assign({ b: 1 }, $assign(defineProperty({}, 'a', {\n    enumerable: true,\n    get: function () {\n      defineProperty(this, 'b', {\n        value: 3,\n        enumerable: false\n      });\n    }\n  }), { b: 2 })).b !== 1) return true;\n  // should work with symbols and should have deterministic property order (V8 bug)\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line es/no-symbol -- safe\n  var symbol = Symbol();\n  var alphabet = 'abcdefghijklmnopqrst';\n  A[symbol] = 7;\n  alphabet.split('').forEach(function (chr) { B[chr] = chr; });\n  return $assign({}, A)[symbol] != 7 || objectKeys($assign({}, B)).join('') != alphabet;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars -- required for `.length`\n  var T = toObject(target);\n  var argumentsLength = arguments.length;\n  var index = 1;\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  var propertyIsEnumerable = propertyIsEnumerableModule.f;\n  while (argumentsLength > index) {\n    var S = IndexedObject(arguments[index++]);\n    var keys = getOwnPropertySymbols ? concat(objectKeys(S), getOwnPropertySymbols(S)) : objectKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || call(propertyIsEnumerable, S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n","/*! picturefill - v3.0.2 - 2016-02-12\n * https://scottjehl.github.io/picturefill/\n * Copyright (c) 2016 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT\n */\n/*! Gecko-Picture - v1.0\n * https://github.com/scottjehl/picturefill/tree/3.0/src/plugins/gecko-picture\n * Firefox's early picture implementation (prior to FF41) is static and does\n * not react to viewport changes. This tiny module fixes this.\n */\n(function(window) {\n\t/*jshint eqnull:true */\n\tvar ua = navigator.userAgent;\n\n\tif ( window.HTMLPictureElement && ((/ecko/).test(ua) && ua.match(/rv\\:(\\d+)/) && RegExp.$1 < 45) ) {\n\t\taddEventListener(\"resize\", (function() {\n\t\t\tvar timer;\n\n\t\t\tvar dummySrc = document.createElement(\"source\");\n\n\t\t\tvar fixRespimg = function(img) {\n\t\t\t\tvar source, sizes;\n\t\t\t\tvar picture = img.parentNode;\n\n\t\t\t\tif (picture.nodeName.toUpperCase() === \"PICTURE\") {\n\t\t\t\t\tsource = dummySrc.cloneNode();\n\n\t\t\t\t\tpicture.insertBefore(source, picture.firstElementChild);\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tpicture.removeChild(source);\n\t\t\t\t\t});\n\t\t\t\t} else if (!img._pfLastSize || img.offsetWidth > img._pfLastSize) {\n\t\t\t\t\timg._pfLastSize = img.offsetWidth;\n\t\t\t\t\tsizes = img.sizes;\n\t\t\t\t\timg.sizes += \",100vw\";\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\timg.sizes = sizes;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar findPictureImgs = function() {\n\t\t\t\tvar i;\n\t\t\t\tvar imgs = document.querySelectorAll(\"picture > img, img[srcset][sizes]\");\n\t\t\t\tfor (i = 0; i < imgs.length; i++) {\n\t\t\t\t\tfixRespimg(imgs[i]);\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar onResize = function() {\n\t\t\t\tclearTimeout(timer);\n\t\t\t\ttimer = setTimeout(findPictureImgs, 99);\n\t\t\t};\n\t\t\tvar mq = window.matchMedia && matchMedia(\"(orientation: landscape)\");\n\t\t\tvar init = function() {\n\t\t\t\tonResize();\n\n\t\t\t\tif (mq && mq.addListener) {\n\t\t\t\t\tmq.addListener(onResize);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tdummySrc.srcset = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n\n\t\t\tif (/^[c|i]|d$/.test(document.readyState || \"\")) {\n\t\t\t\tinit();\n\t\t\t} else {\n\t\t\t\tdocument.addEventListener(\"DOMContentLoaded\", init);\n\t\t\t}\n\n\t\t\treturn onResize;\n\t\t})());\n\t}\n})(window);\n\n/*! Picturefill - v3.0.2\n * http://scottjehl.github.io/picturefill\n * Copyright (c) 2015 https://github.com/scottjehl/picturefill/blob/master/Authors.txt;\n *  License: MIT\n */\n\n(function( window, document, undefined ) {\n\t// Enable strict mode\n\t\"use strict\";\n\n\t// HTML shim|v it for old IE (IE9 will still need the HTML video tag workaround)\n\tdocument.createElement( \"picture\" );\n\n\tvar warn, eminpx, alwaysCheckWDescriptor, evalId;\n\t// local object for method references and testing exposure\n\tvar pf = {};\n\tvar isSupportTestReady = false;\n\tvar noop = function() {};\n\tvar image = document.createElement( \"img\" );\n\tvar getImgAttr = image.getAttribute;\n\tvar setImgAttr = image.setAttribute;\n\tvar removeImgAttr = image.removeAttribute;\n\tvar docElem = document.documentElement;\n\tvar types = {};\n\tvar cfg = {\n\t\t//resource selection:\n\t\talgorithm: \"\"\n\t};\n\tvar srcAttr = \"data-pfsrc\";\n\tvar srcsetAttr = srcAttr + \"set\";\n\t// ua sniffing is done for undetectable img loading features,\n\t// to do some non crucial perf optimizations\n\tvar ua = navigator.userAgent;\n\tvar supportAbort = (/rident/).test(ua) || ((/ecko/).test(ua) && ua.match(/rv\\:(\\d+)/) && RegExp.$1 > 35 );\n\tvar curSrcProp = \"currentSrc\";\n\tvar regWDesc = /\\s+\\+?\\d+(e\\d+)?w/;\n\tvar regSize = /(\\([^)]+\\))?\\s*(.+)/;\n\tvar setOptions = window.picturefillCFG;\n\t/**\n\t * Shortcut property for https://w3c.github.io/webappsec/specs/mixedcontent/#restricts-mixed-content ( for easy overriding in tests )\n\t */\n\t// baseStyle also used by getEmValue (i.e.: width: 1em is important)\n\tvar baseStyle = \"position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)\";\n\tvar fsCss = \"font-size:100%!important;\";\n\tvar isVwDirty = true;\n\n\tvar cssCache = {};\n\tvar sizeLengthCache = {};\n\tvar DPR = window.devicePixelRatio;\n\tvar units = {\n\t\tpx: 1,\n\t\t\"in\": 96\n\t};\n\tvar anchor = document.createElement( \"a\" );\n\t/**\n\t * alreadyRun flag used for setOptions. is it true setOptions will reevaluate\n\t * @type {boolean}\n\t */\n\tvar alreadyRun = false;\n\n\t// Reusable, non-\"g\" Regexes\n\n\t// (Don't use \\s, to avoid matching non-breaking space.)\n\tvar regexLeadingSpaces = /^[ \\t\\n\\r\\u000c]+/,\n\t    regexLeadingCommasOrSpaces = /^[, \\t\\n\\r\\u000c]+/,\n\t    regexLeadingNotSpaces = /^[^ \\t\\n\\r\\u000c]+/,\n\t    regexTrailingCommas = /[,]+$/,\n\t    regexNonNegativeInteger = /^\\d+$/,\n\n\t    // ( Positive or negative or unsigned integers or decimals, without or without exponents.\n\t    // Must include at least one digit.\n\t    // According to spec tests any decimal point must be followed by a digit.\n\t    // No leading plus sign is allowed.)\n\t    // https://html.spec.whatwg.org/multipage/infrastructure.html#valid-floating-point-number\n\t    regexFloatingPoint = /^-?(?:[0-9]+|[0-9]*\\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/;\n\n\tvar on = function(obj, evt, fn, capture) {\n\t\tif ( obj.addEventListener ) {\n\t\t\tobj.addEventListener(evt, fn, capture || false);\n\t\t} else if ( obj.attachEvent ) {\n\t\t\tobj.attachEvent( \"on\" + evt, fn);\n\t\t}\n\t};\n\n\t/**\n\t * simple memoize function:\n\t */\n\n\tvar memoize = function(fn) {\n\t\tvar cache = {};\n\t\treturn function(input) {\n\t\t\tif ( !(input in cache) ) {\n\t\t\t\tcache[ input ] = fn(input);\n\t\t\t}\n\t\t\treturn cache[ input ];\n\t\t};\n\t};\n\n\t// UTILITY FUNCTIONS\n\n\t// Manual is faster than RegEx\n\t// http://jsperf.com/whitespace-character/5\n\tfunction isSpace(c) {\n\t\treturn (c === \"\\u0020\" || // space\n\t\t        c === \"\\u0009\" || // horizontal tab\n\t\t        c === \"\\u000A\" || // new line\n\t\t        c === \"\\u000C\" || // form feed\n\t\t        c === \"\\u000D\");  // carriage return\n\t}\n\n\t/**\n\t * gets a mediaquery and returns a boolean or gets a css length and returns a number\n\t * @param css mediaqueries or css length\n\t * @returns {boolean|number}\n\t *\n\t * based on: https://gist.github.com/jonathantneal/db4f77009b155f083738\n\t */\n\tvar evalCSS = (function() {\n\n\t\tvar regLength = /^([\\d\\.]+)(em|vw|px)$/;\n\t\tvar replace = function() {\n\t\t\tvar args = arguments, index = 0, string = args[0];\n\t\t\twhile (++index in args) {\n\t\t\t\tstring = string.replace(args[index], args[++index]);\n\t\t\t}\n\t\t\treturn string;\n\t\t};\n\n\t\tvar buildStr = memoize(function(css) {\n\n\t\t\treturn \"return \" + replace((css || \"\").toLowerCase(),\n\t\t\t\t// interpret `and`\n\t\t\t\t/\\band\\b/g, \"&&\",\n\n\t\t\t\t// interpret `,`\n\t\t\t\t/,/g, \"||\",\n\n\t\t\t\t// interpret `min-` as >=\n\t\t\t\t/min-([a-z-\\s]+):/g, \"e.$1>=\",\n\n\t\t\t\t// interpret `max-` as <=\n\t\t\t\t/max-([a-z-\\s]+):/g, \"e.$1<=\",\n\n\t\t\t\t//calc value\n\t\t\t\t/calc([^)]+)/g, \"($1)\",\n\n\t\t\t\t// interpret css values\n\t\t\t\t/(\\d+[\\.]*[\\d]*)([a-z]+)/g, \"($1 * e.$2)\",\n\t\t\t\t//make eval less evil\n\t\t\t\t/^(?!(e.[a-z]|[0-9\\.&=|><\\+\\-\\*\\(\\)\\/])).*/ig, \"\"\n\t\t\t) + \";\";\n\t\t});\n\n\t\treturn function(css, length) {\n\t\t\tvar parsedLength;\n\t\t\tif (!(css in cssCache)) {\n\t\t\t\tcssCache[css] = false;\n\t\t\t\tif (length && (parsedLength = css.match( regLength ))) {\n\t\t\t\t\tcssCache[css] = parsedLength[ 1 ] * units[parsedLength[ 2 ]];\n\t\t\t\t} else {\n\t\t\t\t\t/*jshint evil:true */\n\t\t\t\t\ttry{\n\t\t\t\t\t\tcssCache[css] = new Function(\"e\", buildStr(css))(units);\n\t\t\t\t\t} catch(e) {}\n\t\t\t\t\t/*jshint evil:false */\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn cssCache[css];\n\t\t};\n\t})();\n\n\tvar setResolution = function( candidate, sizesattr ) {\n\t\tif ( candidate.w ) { // h = means height: || descriptor.type === 'h' do not handle yet...\n\t\t\tcandidate.cWidth = pf.calcListLength( sizesattr || \"100vw\" );\n\t\t\tcandidate.res = candidate.w / candidate.cWidth ;\n\t\t} else {\n\t\t\tcandidate.res = candidate.d;\n\t\t}\n\t\treturn candidate;\n\t};\n\n\t/**\n\t *\n\t * @param opt\n\t */\n\tvar picturefill = function( opt ) {\n\n\t\tif (!isSupportTestReady) {return;}\n\n\t\tvar elements, i, plen;\n\n\t\tvar options = opt || {};\n\n\t\tif ( options.elements && options.elements.nodeType === 1 ) {\n\t\t\tif ( options.elements.nodeName.toUpperCase() === \"IMG\" ) {\n\t\t\t\toptions.elements =  [ options.elements ];\n\t\t\t} else {\n\t\t\t\toptions.context = options.elements;\n\t\t\t\toptions.elements =  null;\n\t\t\t}\n\t\t}\n\n\t\telements = options.elements || pf.qsa( (options.context || document), ( options.reevaluate || options.reselect ) ? pf.sel : pf.selShort );\n\n\t\tif ( (plen = elements.length) ) {\n\n\t\t\tpf.setupRun( options );\n\t\t\talreadyRun = true;\n\n\t\t\t// Loop through all elements\n\t\t\tfor ( i = 0; i < plen; i++ ) {\n\t\t\t\tpf.fillImg(elements[ i ], options);\n\t\t\t}\n\n\t\t\tpf.teardownRun( options );\n\t\t}\n\t};\n\n\t/**\n\t * outputs a warning for the developer\n\t * @param {message}\n\t * @type {Function}\n\t */\n\twarn = ( window.console && console.warn ) ?\n\t\tfunction( message ) {\n\t\t\tconsole.warn( message );\n\t\t} :\n\t\tnoop\n\t;\n\n\tif ( !(curSrcProp in image) ) {\n\t\tcurSrcProp = \"src\";\n\t}\n\n\t// Add support for standard mime types.\n\ttypes[ \"image/jpeg\" ] = true;\n\ttypes[ \"image/gif\" ] = true;\n\ttypes[ \"image/png\" ] = true;\n\n\tfunction detectTypeSupport( type, typeUri ) {\n\t\t// based on Modernizr's lossless img-webp test\n\t\t// note: asynchronous\n\t\tvar image = new window.Image();\n\t\timage.onerror = function() {\n\t\t\ttypes[ type ] = false;\n\t\t\tpicturefill();\n\t\t};\n\t\timage.onload = function() {\n\t\t\ttypes[ type ] = image.width === 1;\n\t\t\tpicturefill();\n\t\t};\n\t\timage.src = typeUri;\n\t\treturn \"pending\";\n\t}\n\n\t// test svg support\n\ttypes[ \"image/svg+xml\" ] = document.implementation.hasFeature( \"http://www.w3.org/TR/SVG11/feature#Image\", \"1.1\" );\n\n\t/**\n\t * updates the internal vW property with the current viewport width in px\n\t */\n\tfunction updateMetrics() {\n\n\t\tisVwDirty = false;\n\t\tDPR = window.devicePixelRatio;\n\t\tcssCache = {};\n\t\tsizeLengthCache = {};\n\n\t\tpf.DPR = DPR || 1;\n\n\t\tunits.width = Math.max(window.innerWidth || 0, docElem.clientWidth);\n\t\tunits.height = Math.max(window.innerHeight || 0, docElem.clientHeight);\n\n\t\tunits.vw = units.width / 100;\n\t\tunits.vh = units.height / 100;\n\n\t\tevalId = [ units.height, units.width, DPR ].join(\"-\");\n\n\t\tunits.em = pf.getEmValue();\n\t\tunits.rem = units.em;\n\t}\n\n\tfunction chooseLowRes( lowerValue, higherValue, dprValue, isCached ) {\n\t\tvar bonusFactor, tooMuch, bonus, meanDensity;\n\n\t\t//experimental\n\t\tif (cfg.algorithm === \"saveData\" ){\n\t\t\tif ( lowerValue > 2.7 ) {\n\t\t\t\tmeanDensity = dprValue + 1;\n\t\t\t} else {\n\t\t\t\ttooMuch = higherValue - dprValue;\n\t\t\t\tbonusFactor = Math.pow(lowerValue - 0.6, 1.5);\n\n\t\t\t\tbonus = tooMuch * bonusFactor;\n\n\t\t\t\tif (isCached) {\n\t\t\t\t\tbonus += 0.1 * bonusFactor;\n\t\t\t\t}\n\n\t\t\t\tmeanDensity = lowerValue + bonus;\n\t\t\t}\n\t\t} else {\n\t\t\tmeanDensity = (dprValue > 1) ?\n\t\t\t\tMath.sqrt(lowerValue * higherValue) :\n\t\t\t\tlowerValue;\n\t\t}\n\n\t\treturn meanDensity > dprValue;\n\t}\n\n\tfunction applyBestCandidate( img ) {\n\t\tvar srcSetCandidates;\n\t\tvar matchingSet = pf.getSet( img );\n\t\tvar evaluated = false;\n\t\tif ( matchingSet !== \"pending\" ) {\n\t\t\tevaluated = evalId;\n\t\t\tif ( matchingSet ) {\n\t\t\t\tsrcSetCandidates = pf.setRes( matchingSet );\n\t\t\t\tpf.applySetCandidate( srcSetCandidates, img );\n\t\t\t}\n\t\t}\n\t\timg[ pf.ns ].evaled = evaluated;\n\t}\n\n\tfunction ascendingSort( a, b ) {\n\t\treturn a.res - b.res;\n\t}\n\n\tfunction setSrcToCur( img, src, set ) {\n\t\tvar candidate;\n\t\tif ( !set && src ) {\n\t\t\tset = img[ pf.ns ].sets;\n\t\t\tset = set && set[set.length - 1];\n\t\t}\n\n\t\tcandidate = getCandidateForSrc(src, set);\n\n\t\tif ( candidate ) {\n\t\t\tsrc = pf.makeUrl(src);\n\t\t\timg[ pf.ns ].curSrc = src;\n\t\t\timg[ pf.ns ].curCan = candidate;\n\n\t\t\tif ( !candidate.res ) {\n\t\t\t\tsetResolution( candidate, candidate.set.sizes );\n\t\t\t}\n\t\t}\n\t\treturn candidate;\n\t}\n\n\tfunction getCandidateForSrc( src, set ) {\n\t\tvar i, candidate, candidates;\n\t\tif ( src && set ) {\n\t\t\tcandidates = pf.parseSet( set );\n\t\t\tsrc = pf.makeUrl(src);\n\t\t\tfor ( i = 0; i < candidates.length; i++ ) {\n\t\t\t\tif ( src === pf.makeUrl(candidates[ i ].url) ) {\n\t\t\t\t\tcandidate = candidates[ i ];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn candidate;\n\t}\n\n\tfunction getAllSourceElements( picture, candidates ) {\n\t\tvar i, len, source, srcset;\n\n\t\t// SPEC mismatch intended for size and perf:\n\t\t// actually only source elements preceding the img should be used\n\t\t// also note: don't use qsa here, because IE8 sometimes doesn't like source as the key part in a selector\n\t\tvar sources = picture.getElementsByTagName( \"source\" );\n\n\t\tfor ( i = 0, len = sources.length; i < len; i++ ) {\n\t\t\tsource = sources[ i ];\n\t\t\tsource[ pf.ns ] = true;\n\t\t\tsrcset = source.getAttribute( \"srcset\" );\n\n\t\t\t// if source does not have a srcset attribute, skip\n\t\t\tif ( srcset ) {\n\t\t\t\tcandidates.push( {\n\t\t\t\t\tsrcset: srcset,\n\t\t\t\t\tmedia: source.getAttribute( \"media\" ),\n\t\t\t\t\ttype: source.getAttribute( \"type\" ),\n\t\t\t\t\tsizes: source.getAttribute( \"sizes\" )\n\t\t\t\t} );\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Srcset Parser\n\t * By Alex Bell |  MIT License\n\t *\n\t * @returns Array [{url: _, d: _, w: _, h:_, set:_(????)}, ...]\n\t *\n\t * Based super duper closely on the reference algorithm at:\n\t * https://html.spec.whatwg.org/multipage/embedded-content.html#parse-a-srcset-attribute\n\t */\n\n\t// 1. Let input be the value passed to this algorithm.\n\t// (TO-DO : Explain what \"set\" argument is here. Maybe choose a more\n\t// descriptive & more searchable name.  Since passing the \"set\" in really has\n\t// nothing to do with parsing proper, I would prefer this assignment eventually\n\t// go in an external fn.)\n\tfunction parseSrcset(input, set) {\n\n\t\tfunction collectCharacters(regEx) {\n\t\t\tvar chars,\n\t\t\t    match = regEx.exec(input.substring(pos));\n\t\t\tif (match) {\n\t\t\t\tchars = match[ 0 ];\n\t\t\t\tpos += chars.length;\n\t\t\t\treturn chars;\n\t\t\t}\n\t\t}\n\n\t\tvar inputLength = input.length,\n\t\t    url,\n\t\t    descriptors,\n\t\t    currentDescriptor,\n\t\t    state,\n\t\t    c,\n\n\t\t    // 2. Let position be a pointer into input, initially pointing at the start\n\t\t    //    of the string.\n\t\t    pos = 0,\n\n\t\t    // 3. Let candidates be an initially empty source set.\n\t\t    candidates = [];\n\n\t\t/**\n\t\t* Adds descriptor properties to a candidate, pushes to the candidates array\n\t\t* @return undefined\n\t\t*/\n\t\t// (Declared outside of the while loop so that it's only created once.\n\t\t// (This fn is defined before it is used, in order to pass JSHINT.\n\t\t// Unfortunately this breaks the sequencing of the spec comments. :/ )\n\t\tfunction parseDescriptors() {\n\n\t\t\t// 9. Descriptor parser: Let error be no.\n\t\t\tvar pError = false,\n\n\t\t\t// 10. Let width be absent.\n\t\t\t// 11. Let density be absent.\n\t\t\t// 12. Let future-compat-h be absent. (We're implementing it now as h)\n\t\t\t    w, d, h, i,\n\t\t\t    candidate = {},\n\t\t\t    desc, lastChar, value, intVal, floatVal;\n\n\t\t\t// 13. For each descriptor in descriptors, run the appropriate set of steps\n\t\t\t// from the following list:\n\t\t\tfor (i = 0 ; i < descriptors.length; i++) {\n\t\t\t\tdesc = descriptors[ i ];\n\n\t\t\t\tlastChar = desc[ desc.length - 1 ];\n\t\t\t\tvalue = desc.substring(0, desc.length - 1);\n\t\t\t\tintVal = parseInt(value, 10);\n\t\t\t\tfloatVal = parseFloat(value);\n\n\t\t\t\t// If the descriptor consists of a valid non-negative integer followed by\n\t\t\t\t// a U+0077 LATIN SMALL LETTER W character\n\t\t\t\tif (regexNonNegativeInteger.test(value) && (lastChar === \"w\")) {\n\n\t\t\t\t\t// If width and density are not both absent, then let error be yes.\n\t\t\t\t\tif (w || d) {pError = true;}\n\n\t\t\t\t\t// Apply the rules for parsing non-negative integers to the descriptor.\n\t\t\t\t\t// If the result is zero, let error be yes.\n\t\t\t\t\t// Otherwise, let width be the result.\n\t\t\t\t\tif (intVal === 0) {pError = true;} else {w = intVal;}\n\n\t\t\t\t// If the descriptor consists of a valid floating-point number followed by\n\t\t\t\t// a U+0078 LATIN SMALL LETTER X character\n\t\t\t\t} else if (regexFloatingPoint.test(value) && (lastChar === \"x\")) {\n\n\t\t\t\t\t// If width, density and future-compat-h are not all absent, then let error\n\t\t\t\t\t// be yes.\n\t\t\t\t\tif (w || d || h) {pError = true;}\n\n\t\t\t\t\t// Apply the rules for parsing floating-point number values to the descriptor.\n\t\t\t\t\t// If the result is less than zero, let error be yes. Otherwise, let density\n\t\t\t\t\t// be the result.\n\t\t\t\t\tif (floatVal < 0) {pError = true;} else {d = floatVal;}\n\n\t\t\t\t// If the descriptor consists of a valid non-negative integer followed by\n\t\t\t\t// a U+0068 LATIN SMALL LETTER H character\n\t\t\t\t} else if (regexNonNegativeInteger.test(value) && (lastChar === \"h\")) {\n\n\t\t\t\t\t// If height and density are not both absent, then let error be yes.\n\t\t\t\t\tif (h || d) {pError = true;}\n\n\t\t\t\t\t// Apply the rules for parsing non-negative integers to the descriptor.\n\t\t\t\t\t// If the result is zero, let error be yes. Otherwise, let future-compat-h\n\t\t\t\t\t// be the result.\n\t\t\t\t\tif (intVal === 0) {pError = true;} else {h = intVal;}\n\n\t\t\t\t// Anything else, Let error be yes.\n\t\t\t\t} else {pError = true;}\n\t\t\t} // (close step 13 for loop)\n\n\t\t\t// 15. If error is still no, then append a new image source to candidates whose\n\t\t\t// URL is url, associated with a width width if not absent and a pixel\n\t\t\t// density density if not absent. Otherwise, there is a parse error.\n\t\t\tif (!pError) {\n\t\t\t\tcandidate.url = url;\n\n\t\t\t\tif (w) { candidate.w = w;}\n\t\t\t\tif (d) { candidate.d = d;}\n\t\t\t\tif (h) { candidate.h = h;}\n\t\t\t\tif (!h && !d && !w) {candidate.d = 1;}\n\t\t\t\tif (candidate.d === 1) {set.has1x = true;}\n\t\t\t\tcandidate.set = set;\n\n\t\t\t\tcandidates.push(candidate);\n\t\t\t}\n\t\t} // (close parseDescriptors fn)\n\n\t\t/**\n\t\t* Tokenizes descriptor properties prior to parsing\n\t\t* Returns undefined.\n\t\t* (Again, this fn is defined before it is used, in order to pass JSHINT.\n\t\t* Unfortunately this breaks the logical sequencing of the spec comments. :/ )\n\t\t*/\n\t\tfunction tokenize() {\n\n\t\t\t// 8.1. Descriptor tokeniser: Skip whitespace\n\t\t\tcollectCharacters(regexLeadingSpaces);\n\n\t\t\t// 8.2. Let current descriptor be the empty string.\n\t\t\tcurrentDescriptor = \"\";\n\n\t\t\t// 8.3. Let state be in descriptor.\n\t\t\tstate = \"in descriptor\";\n\n\t\t\twhile (true) {\n\n\t\t\t\t// 8.4. Let c be the character at position.\n\t\t\t\tc = input.charAt(pos);\n\n\t\t\t\t//  Do the following depending on the value of state.\n\t\t\t\t//  For the purpose of this step, \"EOF\" is a special character representing\n\t\t\t\t//  that position is past the end of input.\n\n\t\t\t\t// In descriptor\n\t\t\t\tif (state === \"in descriptor\") {\n\t\t\t\t\t// Do the following, depending on the value of c:\n\n\t\t\t\t  // Space character\n\t\t\t\t  // If current descriptor is not empty, append current descriptor to\n\t\t\t\t  // descriptors and let current descriptor be the empty string.\n\t\t\t\t  // Set state to after descriptor.\n\t\t\t\t\tif (isSpace(c)) {\n\t\t\t\t\t\tif (currentDescriptor) {\n\t\t\t\t\t\t\tdescriptors.push(currentDescriptor);\n\t\t\t\t\t\t\tcurrentDescriptor = \"\";\n\t\t\t\t\t\t\tstate = \"after descriptor\";\n\t\t\t\t\t\t}\n\n\t\t\t\t\t// U+002C COMMA (,)\n\t\t\t\t\t// Advance position to the next character in input. If current descriptor\n\t\t\t\t\t// is not empty, append current descriptor to descriptors. Jump to the step\n\t\t\t\t\t// labeled descriptor parser.\n\t\t\t\t\t} else if (c === \",\") {\n\t\t\t\t\t\tpos += 1;\n\t\t\t\t\t\tif (currentDescriptor) {\n\t\t\t\t\t\t\tdescriptors.push(currentDescriptor);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tparseDescriptors();\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t// U+0028 LEFT PARENTHESIS (()\n\t\t\t\t\t// Append c to current descriptor. Set state to in parens.\n\t\t\t\t\t} else if (c === \"\\u0028\") {\n\t\t\t\t\t\tcurrentDescriptor = currentDescriptor + c;\n\t\t\t\t\t\tstate = \"in parens\";\n\n\t\t\t\t\t// EOF\n\t\t\t\t\t// If current descriptor is not empty, append current descriptor to\n\t\t\t\t\t// descriptors. Jump to the step labeled descriptor parser.\n\t\t\t\t\t} else if (c === \"\") {\n\t\t\t\t\t\tif (currentDescriptor) {\n\t\t\t\t\t\t\tdescriptors.push(currentDescriptor);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tparseDescriptors();\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t// Anything else\n\t\t\t\t\t// Append c to current descriptor.\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcurrentDescriptor = currentDescriptor + c;\n\t\t\t\t\t}\n\t\t\t\t// (end \"in descriptor\"\n\n\t\t\t\t// In parens\n\t\t\t\t} else if (state === \"in parens\") {\n\n\t\t\t\t\t// U+0029 RIGHT PARENTHESIS ())\n\t\t\t\t\t// Append c to current descriptor. Set state to in descriptor.\n\t\t\t\t\tif (c === \")\") {\n\t\t\t\t\t\tcurrentDescriptor = currentDescriptor + c;\n\t\t\t\t\t\tstate = \"in descriptor\";\n\n\t\t\t\t\t// EOF\n\t\t\t\t\t// Append current descriptor to descriptors. Jump to the step labeled\n\t\t\t\t\t// descriptor parser.\n\t\t\t\t\t} else if (c === \"\") {\n\t\t\t\t\t\tdescriptors.push(currentDescriptor);\n\t\t\t\t\t\tparseDescriptors();\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t// Anything else\n\t\t\t\t\t// Append c to current descriptor.\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcurrentDescriptor = currentDescriptor + c;\n\t\t\t\t\t}\n\n\t\t\t\t// After descriptor\n\t\t\t\t} else if (state === \"after descriptor\") {\n\n\t\t\t\t\t// Do the following, depending on the value of c:\n\t\t\t\t\t// Space character: Stay in this state.\n\t\t\t\t\tif (isSpace(c)) {\n\n\t\t\t\t\t// EOF: Jump to the step labeled descriptor parser.\n\t\t\t\t\t} else if (c === \"\") {\n\t\t\t\t\t\tparseDescriptors();\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t// Anything else\n\t\t\t\t\t// Set state to in descriptor. Set position to the previous character in input.\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstate = \"in descriptor\";\n\t\t\t\t\t\tpos -= 1;\n\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Advance position to the next character in input.\n\t\t\t\tpos += 1;\n\n\t\t\t// Repeat this step.\n\t\t\t} // (close while true loop)\n\t\t}\n\n\t\t// 4. Splitting loop: Collect a sequence of characters that are space\n\t\t//    characters or U+002C COMMA characters. If any U+002C COMMA characters\n\t\t//    were collected, that is a parse error.\n\t\twhile (true) {\n\t\t\tcollectCharacters(regexLeadingCommasOrSpaces);\n\n\t\t\t// 5. If position is past the end of input, return candidates and abort these steps.\n\t\t\tif (pos >= inputLength) {\n\t\t\t\treturn candidates; // (we're done, this is the sole return path)\n\t\t\t}\n\n\t\t\t// 6. Collect a sequence of characters that are not space characters,\n\t\t\t//    and let that be url.\n\t\t\turl = collectCharacters(regexLeadingNotSpaces);\n\n\t\t\t// 7. Let descriptors be a new empty list.\n\t\t\tdescriptors = [];\n\n\t\t\t// 8. If url ends with a U+002C COMMA character (,), follow these substeps:\n\t\t\t//\t\t(1). Remove all trailing U+002C COMMA characters from url. If this removed\n\t\t\t//         more than one character, that is a parse error.\n\t\t\tif (url.slice(-1) === \",\") {\n\t\t\t\turl = url.replace(regexTrailingCommas, \"\");\n\t\t\t\t// (Jump ahead to step 9 to skip tokenization and just push the candidate).\n\t\t\t\tparseDescriptors();\n\n\t\t\t//\tOtherwise, follow these substeps:\n\t\t\t} else {\n\t\t\t\ttokenize();\n\t\t\t} // (close else of step 8)\n\n\t\t// 16. Return to the step labeled splitting loop.\n\t\t} // (Close of big while loop.)\n\t}\n\n\t/*\n\t * Sizes Parser\n\t *\n\t * By Alex Bell |  MIT License\n\t *\n\t * Non-strict but accurate and lightweight JS Parser for the string value <img sizes=\"here\">\n\t *\n\t * Reference algorithm at:\n\t * https://html.spec.whatwg.org/multipage/embedded-content.html#parse-a-sizes-attribute\n\t *\n\t * Most comments are copied in directly from the spec\n\t * (except for comments in parens).\n\t *\n\t * Grammar is:\n\t * <source-size-list> = <source-size># [ , <source-size-value> ]? | <source-size-value>\n\t * <source-size> = <media-condition> <source-size-value>\n\t * <source-size-value> = <length>\n\t * http://www.w3.org/html/wg/drafts/html/master/embedded-content.html#attr-img-sizes\n\t *\n\t * E.g. \"(max-width: 30em) 100vw, (max-width: 50em) 70vw, 100vw\"\n\t * or \"(min-width: 30em), calc(30vw - 15px)\" or just \"30vw\"\n\t *\n\t * Returns the first valid <css-length> with a media condition that evaluates to true,\n\t * or \"100vw\" if all valid media conditions evaluate to false.\n\t *\n\t */\n\n\tfunction parseSizes(strValue) {\n\n\t\t// (Percentage CSS lengths are not allowed in this case, to avoid confusion:\n\t\t// https://html.spec.whatwg.org/multipage/embedded-content.html#valid-source-size-list\n\t\t// CSS allows a single optional plus or minus sign:\n\t\t// http://www.w3.org/TR/CSS2/syndata.html#numbers\n\t\t// CSS is ASCII case-insensitive:\n\t\t// http://www.w3.org/TR/CSS2/syndata.html#characters )\n\t\t// Spec allows exponential notation for <number> type:\n\t\t// http://dev.w3.org/csswg/css-values/#numbers\n\t\tvar regexCssLengthWithUnits = /^(?:[+-]?[0-9]+|[0-9]*\\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i;\n\n\t\t// (This is a quick and lenient test. Because of optional unlimited-depth internal\n\t\t// grouping parens and strict spacing rules, this could get very complicated.)\n\t\tvar regexCssCalc = /^calc\\((?:[0-9a-z \\.\\+\\-\\*\\/\\(\\)]+)\\)$/i;\n\n\t\tvar i;\n\t\tvar unparsedSizesList;\n\t\tvar unparsedSizesListLength;\n\t\tvar unparsedSize;\n\t\tvar lastComponentValue;\n\t\tvar size;\n\n\t\t// UTILITY FUNCTIONS\n\n\t\t//  (Toy CSS parser. The goals here are:\n\t\t//  1) expansive test coverage without the weight of a full CSS parser.\n\t\t//  2) Avoiding regex wherever convenient.\n\t\t//  Quick tests: http://jsfiddle.net/gtntL4gr/3/\n\t\t//  Returns an array of arrays.)\n\t\tfunction parseComponentValues(str) {\n\t\t\tvar chrctr;\n\t\t\tvar component = \"\";\n\t\t\tvar componentArray = [];\n\t\t\tvar listArray = [];\n\t\t\tvar parenDepth = 0;\n\t\t\tvar pos = 0;\n\t\t\tvar inComment = false;\n\n\t\t\tfunction pushComponent() {\n\t\t\t\tif (component) {\n\t\t\t\t\tcomponentArray.push(component);\n\t\t\t\t\tcomponent = \"\";\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction pushComponentArray() {\n\t\t\t\tif (componentArray[0]) {\n\t\t\t\t\tlistArray.push(componentArray);\n\t\t\t\t\tcomponentArray = [];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// (Loop forwards from the beginning of the string.)\n\t\t\twhile (true) {\n\t\t\t\tchrctr = str.charAt(pos);\n\n\t\t\t\tif (chrctr === \"\") { // ( End of string reached.)\n\t\t\t\t\tpushComponent();\n\t\t\t\t\tpushComponentArray();\n\t\t\t\t\treturn listArray;\n\t\t\t\t} else if (inComment) {\n\t\t\t\t\tif ((chrctr === \"*\") && (str[pos + 1] === \"/\")) { // (At end of a comment.)\n\t\t\t\t\t\tinComment = false;\n\t\t\t\t\t\tpos += 2;\n\t\t\t\t\t\tpushComponent();\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpos += 1; // (Skip all characters inside comments.)\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t} else if (isSpace(chrctr)) {\n\t\t\t\t\t// (If previous character in loop was also a space, or if\n\t\t\t\t\t// at the beginning of the string, do not add space char to\n\t\t\t\t\t// component.)\n\t\t\t\t\tif ( (str.charAt(pos - 1) && isSpace( str.charAt(pos - 1) ) ) || !component ) {\n\t\t\t\t\t\tpos += 1;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else if (parenDepth === 0) {\n\t\t\t\t\t\tpushComponent();\n\t\t\t\t\t\tpos +=1;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// (Replace any space character with a plain space for legibility.)\n\t\t\t\t\t\tchrctr = \" \";\n\t\t\t\t\t}\n\t\t\t\t} else if (chrctr === \"(\") {\n\t\t\t\t\tparenDepth += 1;\n\t\t\t\t} else if (chrctr === \")\") {\n\t\t\t\t\tparenDepth -= 1;\n\t\t\t\t} else if (chrctr === \",\") {\n\t\t\t\t\tpushComponent();\n\t\t\t\t\tpushComponentArray();\n\t\t\t\t\tpos += 1;\n\t\t\t\t\tcontinue;\n\t\t\t\t} else if ( (chrctr === \"/\") && (str.charAt(pos + 1) === \"*\") ) {\n\t\t\t\t\tinComment = true;\n\t\t\t\t\tpos += 2;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tcomponent = component + chrctr;\n\t\t\t\tpos += 1;\n\t\t\t}\n\t\t}\n\n\t\tfunction isValidNonNegativeSourceSizeValue(s) {\n\t\t\tif (regexCssLengthWithUnits.test(s) && (parseFloat(s) >= 0)) {return true;}\n\t\t\tif (regexCssCalc.test(s)) {return true;}\n\t\t\t// ( http://www.w3.org/TR/CSS2/syndata.html#numbers says:\n\t\t\t// \"-0 is equivalent to 0 and is not a negative number.\" which means that\n\t\t\t// unitless zero and unitless negative zero must be accepted as special cases.)\n\t\t\tif ((s === \"0\") || (s === \"-0\") || (s === \"+0\")) {return true;}\n\t\t\treturn false;\n\t\t}\n\n\t\t// When asked to parse a sizes attribute from an element, parse a\n\t\t// comma-separated list of component values from the value of the element's\n\t\t// sizes attribute (or the empty string, if the attribute is absent), and let\n\t\t// unparsed sizes list be the result.\n\t\t// http://dev.w3.org/csswg/css-syntax/#parse-comma-separated-list-of-component-values\n\n\t\tunparsedSizesList = parseComponentValues(strValue);\n\t\tunparsedSizesListLength = unparsedSizesList.length;\n\n\t\t// For each unparsed size in unparsed sizes list:\n\t\tfor (i = 0; i < unparsedSizesListLength; i++) {\n\t\t\tunparsedSize = unparsedSizesList[i];\n\n\t\t\t// 1. Remove all consecutive <whitespace-token>s from the end of unparsed size.\n\t\t\t// ( parseComponentValues() already omits spaces outside of parens. )\n\n\t\t\t// If unparsed size is now empty, that is a parse error; continue to the next\n\t\t\t// iteration of this algorithm.\n\t\t\t// ( parseComponentValues() won't push an empty array. )\n\n\t\t\t// 2. If the last component value in unparsed size is a valid non-negative\n\t\t\t// <source-size-value>, let size be its value and remove the component value\n\t\t\t// from unparsed size. Any CSS function other than the calc() function is\n\t\t\t// invalid. Otherwise, there is a parse error; continue to the next iteration\n\t\t\t// of this algorithm.\n\t\t\t// http://dev.w3.org/csswg/css-syntax/#parse-component-value\n\t\t\tlastComponentValue = unparsedSize[unparsedSize.length - 1];\n\n\t\t\tif (isValidNonNegativeSourceSizeValue(lastComponentValue)) {\n\t\t\t\tsize = lastComponentValue;\n\t\t\t\tunparsedSize.pop();\n\t\t\t} else {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// 3. Remove all consecutive <whitespace-token>s from the end of unparsed\n\t\t\t// size. If unparsed size is now empty, return size and exit this algorithm.\n\t\t\t// If this was not the last item in unparsed sizes list, that is a parse error.\n\t\t\tif (unparsedSize.length === 0) {\n\t\t\t\treturn size;\n\t\t\t}\n\n\t\t\t// 4. Parse the remaining component values in unparsed size as a\n\t\t\t// <media-condition>. If it does not parse correctly, or it does parse\n\t\t\t// correctly but the <media-condition> evaluates to false, continue to the\n\t\t\t// next iteration of this algorithm.\n\t\t\t// (Parsing all possible compound media conditions in JS is heavy, complicated,\n\t\t\t// and the payoff is unclear. Is there ever an situation where the\n\t\t\t// media condition parses incorrectly but still somehow evaluates to true?\n\t\t\t// Can we just rely on the browser/polyfill to do it?)\n\t\t\tunparsedSize = unparsedSize.join(\" \");\n\t\t\tif (!(pf.matchesMedia( unparsedSize ) ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// 5. Return size and exit this algorithm.\n\t\t\treturn size;\n\t\t}\n\n\t\t// If the above algorithm exhausts unparsed sizes list without returning a\n\t\t// size value, return 100vw.\n\t\treturn \"100vw\";\n\t}\n\n\t// namespace\n\tpf.ns = (\"pf\" + new Date().getTime()).substr(0, 9);\n\n\t// srcset support test\n\tpf.supSrcset = \"srcset\" in image;\n\tpf.supSizes = \"sizes\" in image;\n\tpf.supPicture = !!window.HTMLPictureElement;\n\n\t// UC browser does claim to support srcset and picture, but not sizes,\n\t// this extended test reveals the browser does support nothing\n\tif (pf.supSrcset && pf.supPicture && !pf.supSizes) {\n\t\t(function(image2) {\n\t\t\timage.srcset = \"data:,a\";\n\t\t\timage2.src = \"data:,a\";\n\t\t\tpf.supSrcset = image.complete === image2.complete;\n\t\t\tpf.supPicture = pf.supSrcset && pf.supPicture;\n\t\t})(document.createElement(\"img\"));\n\t}\n\n\t// Safari9 has basic support for sizes, but does't expose the `sizes` idl attribute\n\tif (pf.supSrcset && !pf.supSizes) {\n\n\t\t(function() {\n\t\t\tvar width2 = \"data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw==\";\n\t\t\tvar width1 = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n\t\t\tvar img = document.createElement(\"img\");\n\t\t\tvar test = function() {\n\t\t\t\tvar width = img.width;\n\n\t\t\t\tif (width === 2) {\n\t\t\t\t\tpf.supSizes = true;\n\t\t\t\t}\n\n\t\t\t\talwaysCheckWDescriptor = pf.supSrcset && !pf.supSizes;\n\n\t\t\t\tisSupportTestReady = true;\n\t\t\t\t// force async\n\t\t\t\tsetTimeout(picturefill);\n\t\t\t};\n\n\t\t\timg.onload = test;\n\t\t\timg.onerror = test;\n\t\t\timg.setAttribute(\"sizes\", \"9px\");\n\n\t\t\timg.srcset = width1 + \" 1w,\" + width2 + \" 9w\";\n\t\t\timg.src = width1;\n\t\t})();\n\n\t} else {\n\t\tisSupportTestReady = true;\n\t}\n\n\t// using pf.qsa instead of dom traversing does scale much better,\n\t// especially on sites mixing responsive and non-responsive images\n\tpf.selShort = \"picture>img,img[srcset]\";\n\tpf.sel = pf.selShort;\n\tpf.cfg = cfg;\n\n\t/**\n\t * Shortcut property for `devicePixelRatio` ( for easy overriding in tests )\n\t */\n\tpf.DPR = (DPR  || 1 );\n\tpf.u = units;\n\n\t// container of supported mime types that one might need to qualify before using\n\tpf.types =  types;\n\n\tpf.setSize = noop;\n\n\t/**\n\t * Gets a string and returns the absolute URL\n\t * @param src\n\t * @returns {String} absolute URL\n\t */\n\n\tpf.makeUrl = memoize(function(src) {\n\t\tanchor.href = src;\n\t\treturn anchor.href;\n\t});\n\n\t/**\n\t * Gets a DOM element or document and a selctor and returns the found matches\n\t * Can be extended with jQuery/Sizzle for IE7 support\n\t * @param context\n\t * @param sel\n\t * @returns {NodeList|Array}\n\t */\n\tpf.qsa = function(context, sel) {\n\t\treturn ( \"querySelector\" in context ) ? context.querySelectorAll(sel) : [];\n\t};\n\n\t/**\n\t * Shortcut method for matchMedia ( for easy overriding in tests )\n\t * wether native or pf.mMQ is used will be decided lazy on first call\n\t * @returns {boolean}\n\t */\n\tpf.matchesMedia = function() {\n\t\tif ( window.matchMedia && (matchMedia( \"(min-width: 0.1em)\" ) || {}).matches ) {\n\t\t\tpf.matchesMedia = function( media ) {\n\t\t\t\treturn !media || ( matchMedia( media ).matches );\n\t\t\t};\n\t\t} else {\n\t\t\tpf.matchesMedia = pf.mMQ;\n\t\t}\n\n\t\treturn pf.matchesMedia.apply( this, arguments );\n\t};\n\n\t/**\n\t * A simplified matchMedia implementation for IE8 and IE9\n\t * handles only min-width/max-width with px or em values\n\t * @param media\n\t * @returns {boolean}\n\t */\n\tpf.mMQ = function( media ) {\n\t\treturn media ? evalCSS(media) : true;\n\t};\n\n\t/**\n\t * Returns the calculated length in css pixel from the given sourceSizeValue\n\t * http://dev.w3.org/csswg/css-values-3/#length-value\n\t * intended Spec mismatches:\n\t * * Does not check for invalid use of CSS functions\n\t * * Does handle a computed length of 0 the same as a negative and therefore invalid value\n\t * @param sourceSizeValue\n\t * @returns {Number}\n\t */\n\tpf.calcLength = function( sourceSizeValue ) {\n\n\t\tvar value = evalCSS(sourceSizeValue, true) || false;\n\t\tif (value < 0) {\n\t\t\tvalue = false;\n\t\t}\n\n\t\treturn value;\n\t};\n\n\t/**\n\t * Takes a type string and checks if its supported\n\t */\n\n\tpf.supportsType = function( type ) {\n\t\treturn ( type ) ? types[ type ] : true;\n\t};\n\n\t/**\n\t * Parses a sourceSize into mediaCondition (media) and sourceSizeValue (length)\n\t * @param sourceSizeStr\n\t * @returns {*}\n\t */\n\tpf.parseSize = memoize(function( sourceSizeStr ) {\n\t\tvar match = ( sourceSizeStr || \"\" ).match(regSize);\n\t\treturn {\n\t\t\tmedia: match && match[1],\n\t\t\tlength: match && match[2]\n\t\t};\n\t});\n\n\tpf.parseSet = function( set ) {\n\t\tif ( !set.cands ) {\n\t\t\tset.cands = parseSrcset(set.srcset, set);\n\t\t}\n\t\treturn set.cands;\n\t};\n\n\t/**\n\t * returns 1em in css px for html/body default size\n\t * function taken from respondjs\n\t * @returns {*|number}\n\t */\n\tpf.getEmValue = function() {\n\t\tvar body;\n\t\tif ( !eminpx && (body = document.body) ) {\n\t\t\tvar div = document.createElement( \"div\" ),\n\t\t\t\toriginalHTMLCSS = docElem.style.cssText,\n\t\t\t\toriginalBodyCSS = body.style.cssText;\n\n\t\t\tdiv.style.cssText = baseStyle;\n\n\t\t\t// 1em in a media query is the value of the default font size of the browser\n\t\t\t// reset docElem and body to ensure the correct value is returned\n\t\t\tdocElem.style.cssText = fsCss;\n\t\t\tbody.style.cssText = fsCss;\n\n\t\t\tbody.appendChild( div );\n\t\t\teminpx = div.offsetWidth;\n\t\t\tbody.removeChild( div );\n\n\t\t\t//also update eminpx before returning\n\t\t\teminpx = parseFloat( eminpx, 10 );\n\n\t\t\t// restore the original values\n\t\t\tdocElem.style.cssText = originalHTMLCSS;\n\t\t\tbody.style.cssText = originalBodyCSS;\n\n\t\t}\n\t\treturn eminpx || 16;\n\t};\n\n\t/**\n\t * Takes a string of sizes and returns the width in pixels as a number\n\t */\n\tpf.calcListLength = function( sourceSizeListStr ) {\n\t\t// Split up source size list, ie ( max-width: 30em ) 100%, ( max-width: 50em ) 50%, 33%\n\t\t//\n\t\t//                           or (min-width:30em) calc(30% - 15px)\n\t\tif ( !(sourceSizeListStr in sizeLengthCache) || cfg.uT ) {\n\t\t\tvar winningLength = pf.calcLength( parseSizes( sourceSizeListStr ) );\n\n\t\t\tsizeLengthCache[ sourceSizeListStr ] = !winningLength ? units.width : winningLength;\n\t\t}\n\n\t\treturn sizeLengthCache[ sourceSizeListStr ];\n\t};\n\n\t/**\n\t * Takes a candidate object with a srcset property in the form of url/\n\t * ex. \"images/pic-medium.png 1x, images/pic-medium-2x.png 2x\" or\n\t *     \"images/pic-medium.png 400w, images/pic-medium-2x.png 800w\" or\n\t *     \"images/pic-small.png\"\n\t * Get an array of image candidates in the form of\n\t *      {url: \"/foo/bar.png\", resolution: 1}\n\t * where resolution is http://dev.w3.org/csswg/css-values-3/#resolution-value\n\t * If sizes is specified, res is calculated\n\t */\n\tpf.setRes = function( set ) {\n\t\tvar candidates;\n\t\tif ( set ) {\n\n\t\t\tcandidates = pf.parseSet( set );\n\n\t\t\tfor ( var i = 0, len = candidates.length; i < len; i++ ) {\n\t\t\t\tsetResolution( candidates[ i ], set.sizes );\n\t\t\t}\n\t\t}\n\t\treturn candidates;\n\t};\n\n\tpf.setRes.res = setResolution;\n\n\tpf.applySetCandidate = function( candidates, img ) {\n\t\tif ( !candidates.length ) {return;}\n\t\tvar candidate,\n\t\t\ti,\n\t\t\tj,\n\t\t\tlength,\n\t\t\tbestCandidate,\n\t\t\tcurSrc,\n\t\t\tcurCan,\n\t\t\tcandidateSrc,\n\t\t\tabortCurSrc;\n\n\t\tvar imageData = img[ pf.ns ];\n\t\tvar dpr = pf.DPR;\n\n\t\tcurSrc = imageData.curSrc || img[curSrcProp];\n\n\t\tcurCan = imageData.curCan || setSrcToCur(img, curSrc, candidates[0].set);\n\n\t\t// if we have a current source, we might either become lazy or give this source some advantage\n\t\tif ( curCan && curCan.set === candidates[ 0 ].set ) {\n\n\t\t\t// if browser can abort image request and the image has a higher pixel density than needed\n\t\t\t// and this image isn't downloaded yet, we skip next part and try to save bandwidth\n\t\t\tabortCurSrc = (supportAbort && !img.complete && curCan.res - 0.1 > dpr);\n\n\t\t\tif ( !abortCurSrc ) {\n\t\t\t\tcurCan.cached = true;\n\n\t\t\t\t// if current candidate is \"best\", \"better\" or \"okay\",\n\t\t\t\t// set it to bestCandidate\n\t\t\t\tif ( curCan.res >= dpr ) {\n\t\t\t\t\tbestCandidate = curCan;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( !bestCandidate ) {\n\n\t\t\tcandidates.sort( ascendingSort );\n\n\t\t\tlength = candidates.length;\n\t\t\tbestCandidate = candidates[ length - 1 ];\n\n\t\t\tfor ( i = 0; i < length; i++ ) {\n\t\t\t\tcandidate = candidates[ i ];\n\t\t\t\tif ( candidate.res >= dpr ) {\n\t\t\t\t\tj = i - 1;\n\n\t\t\t\t\t// we have found the perfect candidate,\n\t\t\t\t\t// but let's improve this a little bit with some assumptions ;-)\n\t\t\t\t\tif (candidates[ j ] &&\n\t\t\t\t\t\t(abortCurSrc || curSrc !== pf.makeUrl( candidate.url )) &&\n\t\t\t\t\t\tchooseLowRes(candidates[ j ].res, candidate.res, dpr, candidates[ j ].cached)) {\n\n\t\t\t\t\t\tbestCandidate = candidates[ j ];\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbestCandidate = candidate;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( bestCandidate ) {\n\n\t\t\tcandidateSrc = pf.makeUrl( bestCandidate.url );\n\n\t\t\timageData.curSrc = candidateSrc;\n\t\t\timageData.curCan = bestCandidate;\n\n\t\t\tif ( candidateSrc !== curSrc ) {\n\t\t\t\tpf.setSrc( img, bestCandidate );\n\t\t\t}\n\t\t\tpf.setSize( img );\n\t\t}\n\t};\n\n\tpf.setSrc = function( img, bestCandidate ) {\n\t\tvar origWidth;\n\t\timg.src = bestCandidate.url;\n\n\t\t// although this is a specific Safari issue, we don't want to take too much different code paths\n\t\tif ( bestCandidate.set.type === \"image/svg+xml\" ) {\n\t\t\torigWidth = img.style.width;\n\t\t\timg.style.width = (img.offsetWidth + 1) + \"px\";\n\n\t\t\t// next line only should trigger a repaint\n\t\t\t// if... is only done to trick dead code removal\n\t\t\tif ( img.offsetWidth + 1 ) {\n\t\t\t\timg.style.width = origWidth;\n\t\t\t}\n\t\t}\n\t};\n\n\tpf.getSet = function( img ) {\n\t\tvar i, set, supportsType;\n\t\tvar match = false;\n\t\tvar sets = img [ pf.ns ].sets;\n\n\t\tfor ( i = 0; i < sets.length && !match; i++ ) {\n\t\t\tset = sets[i];\n\n\t\t\tif ( !set.srcset || !pf.matchesMedia( set.media ) || !(supportsType = pf.supportsType( set.type )) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif ( supportsType === \"pending\" ) {\n\t\t\t\tset = supportsType;\n\t\t\t}\n\n\t\t\tmatch = set;\n\t\t\tbreak;\n\t\t}\n\n\t\treturn match;\n\t};\n\n\tpf.parseSets = function( element, parent, options ) {\n\t\tvar srcsetAttribute, imageSet, isWDescripor, srcsetParsed;\n\n\t\tvar hasPicture = parent && parent.nodeName.toUpperCase() === \"PICTURE\";\n\t\tvar imageData = element[ pf.ns ];\n\n\t\tif ( imageData.src === undefined || options.src ) {\n\t\t\timageData.src = getImgAttr.call( element, \"src\" );\n\t\t\tif ( imageData.src ) {\n\t\t\t\tsetImgAttr.call( element, srcAttr, imageData.src );\n\t\t\t} else {\n\t\t\t\tremoveImgAttr.call( element, srcAttr );\n\t\t\t}\n\t\t}\n\n\t\tif ( imageData.srcset === undefined || options.srcset || !pf.supSrcset || element.srcset ) {\n\t\t\tsrcsetAttribute = getImgAttr.call( element, \"srcset\" );\n\t\t\timageData.srcset = srcsetAttribute;\n\t\t\tsrcsetParsed = true;\n\t\t}\n\n\t\timageData.sets = [];\n\n\t\tif ( hasPicture ) {\n\t\t\timageData.pic = true;\n\t\t\tgetAllSourceElements( parent, imageData.sets );\n\t\t}\n\n\t\tif ( imageData.srcset ) {\n\t\t\timageSet = {\n\t\t\t\tsrcset: imageData.srcset,\n\t\t\t\tsizes: getImgAttr.call( element, \"sizes\" )\n\t\t\t};\n\n\t\t\timageData.sets.push( imageSet );\n\n\t\t\tisWDescripor = (alwaysCheckWDescriptor || imageData.src) && regWDesc.test(imageData.srcset || \"\");\n\n\t\t\t// add normal src as candidate, if source has no w descriptor\n\t\t\tif ( !isWDescripor && imageData.src && !getCandidateForSrc(imageData.src, imageSet) && !imageSet.has1x ) {\n\t\t\t\timageSet.srcset += \", \" + imageData.src;\n\t\t\t\timageSet.cands.push({\n\t\t\t\t\turl: imageData.src,\n\t\t\t\t\td: 1,\n\t\t\t\t\tset: imageSet\n\t\t\t\t});\n\t\t\t}\n\n\t\t} else if ( imageData.src ) {\n\t\t\timageData.sets.push( {\n\t\t\t\tsrcset: imageData.src,\n\t\t\t\tsizes: null\n\t\t\t} );\n\t\t}\n\n\t\timageData.curCan = null;\n\t\timageData.curSrc = undefined;\n\n\t\t// if img has picture or the srcset was removed or has a srcset and does not support srcset at all\n\t\t// or has a w descriptor (and does not support sizes) set support to false to evaluate\n\t\timageData.supported = !( hasPicture || ( imageSet && !pf.supSrcset ) || (isWDescripor && !pf.supSizes) );\n\n\t\tif ( srcsetParsed && pf.supSrcset && !imageData.supported ) {\n\t\t\tif ( srcsetAttribute ) {\n\t\t\t\tsetImgAttr.call( element, srcsetAttr, srcsetAttribute );\n\t\t\t\telement.srcset = \"\";\n\t\t\t} else {\n\t\t\t\tremoveImgAttr.call( element, srcsetAttr );\n\t\t\t}\n\t\t}\n\n\t\tif (imageData.supported && !imageData.srcset && ((!imageData.src && element.src) ||  element.src !== pf.makeUrl(imageData.src))) {\n\t\t\tif (imageData.src === null) {\n\t\t\t\telement.removeAttribute(\"src\");\n\t\t\t} else {\n\t\t\t\telement.src = imageData.src;\n\t\t\t}\n\t\t}\n\n\t\timageData.parsed = true;\n\t};\n\n\tpf.fillImg = function(element, options) {\n\t\tvar imageData;\n\t\tvar extreme = options.reselect || options.reevaluate;\n\n\t\t// expando for caching data on the img\n\t\tif ( !element[ pf.ns ] ) {\n\t\t\telement[ pf.ns ] = {};\n\t\t}\n\n\t\timageData = element[ pf.ns ];\n\n\t\t// if the element has already been evaluated, skip it\n\t\t// unless `options.reevaluate` is set to true ( this, for example,\n\t\t// is set to true when running `picturefill` on `resize` ).\n\t\tif ( !extreme && imageData.evaled === evalId ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( !imageData.parsed || options.reevaluate ) {\n\t\t\tpf.parseSets( element, element.parentNode, options );\n\t\t}\n\n\t\tif ( !imageData.supported ) {\n\t\t\tapplyBestCandidate( element );\n\t\t} else {\n\t\t\timageData.evaled = evalId;\n\t\t}\n\t};\n\n\tpf.setupRun = function() {\n\t\tif ( !alreadyRun || isVwDirty || (DPR !== window.devicePixelRatio) ) {\n\t\t\tupdateMetrics();\n\t\t}\n\t};\n\n\t// If picture is supported, well, that's awesome.\n\tif ( pf.supPicture ) {\n\t\tpicturefill = noop;\n\t\tpf.fillImg = noop;\n\t} else {\n\n\t\t // Set up picture polyfill by polling the document\n\t\t(function() {\n\t\t\tvar isDomReady;\n\t\t\tvar regReady = window.attachEvent ? /d$|^c/ : /d$|^c|^i/;\n\n\t\t\tvar run = function() {\n\t\t\t\tvar readyState = document.readyState || \"\";\n\n\t\t\t\ttimerId = setTimeout(run, readyState === \"loading\" ? 200 :  999);\n\t\t\t\tif ( document.body ) {\n\t\t\t\t\tpf.fillImgs();\n\t\t\t\t\tisDomReady = isDomReady || regReady.test(readyState);\n\t\t\t\t\tif ( isDomReady ) {\n\t\t\t\t\t\tclearTimeout( timerId );\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar timerId = setTimeout(run, document.body ? 9 : 99);\n\n\t\t\t// Also attach picturefill on resize and readystatechange\n\t\t\t// http://modernjavascript.blogspot.com/2013/08/building-better-debounce.html\n\t\t\tvar debounce = function(func, wait) {\n\t\t\t\tvar timeout, timestamp;\n\t\t\t\tvar later = function() {\n\t\t\t\t\tvar last = (new Date()) - timestamp;\n\n\t\t\t\t\tif (last < wait) {\n\t\t\t\t\t\ttimeout = setTimeout(later, wait - last);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttimeout = null;\n\t\t\t\t\t\tfunc();\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\treturn function() {\n\t\t\t\t\ttimestamp = new Date();\n\n\t\t\t\t\tif (!timeout) {\n\t\t\t\t\t\ttimeout = setTimeout(later, wait);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t\tvar lastClientWidth = docElem.clientHeight;\n\t\t\tvar onResize = function() {\n\t\t\t\tisVwDirty = Math.max(window.innerWidth || 0, docElem.clientWidth) !== units.width || docElem.clientHeight !== lastClientWidth;\n\t\t\t\tlastClientWidth = docElem.clientHeight;\n\t\t\t\tif ( isVwDirty ) {\n\t\t\t\t\tpf.fillImgs();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\ton( window, \"resize\", debounce(onResize, 99 ) );\n\t\t\ton( document, \"readystatechange\", run );\n\t\t})();\n\t}\n\n\tpf.picturefill = picturefill;\n\t//use this internally for easy monkey patching/performance testing\n\tpf.fillImgs = picturefill;\n\tpf.teardownRun = noop;\n\n\t/* expose methods for testing */\n\tpicturefill._ = pf;\n\n\twindow.picturefillCFG = {\n\t\tpf: pf,\n\t\tpush: function(args) {\n\t\t\tvar name = args.shift();\n\t\t\tif (typeof pf[name] === \"function\") {\n\t\t\t\tpf[name].apply(pf, args);\n\t\t\t} else {\n\t\t\t\tcfg[name] = args[0];\n\t\t\t\tif (alreadyRun) {\n\t\t\t\t\tpf.fillImgs( { reselect: true } );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\twhile (setOptions && setOptions.length) {\n\t\twindow.picturefillCFG.push(setOptions.shift());\n\t}\n\n\t/* expose picturefill */\n\twindow.picturefill = picturefill;\n\n\t/* expose picturefill */\n\tif ( typeof module === \"object\" && typeof module.exports === \"object\" ) {\n\t\t// CommonJS, just export\n\t\tmodule.exports = picturefill;\n\t} else if ( typeof define === \"function\" && define.amd ) {\n\t\t// AMD support\n\t\tdefine( \"picturefill\", function() { return picturefill; } );\n\t}\n\n\t// IE8 evals this sync, so it must be the last thing we do\n\tif ( !pf.supPicture ) {\n\t\ttypes[ \"image/webp\" ] = detectTypeSupport(\"image/webp\", \"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==\" );\n\t}\n\n} )( window, document );\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE.\n *\n *  https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n *\n */\n(function() {\n'use strict';\n\n// Exit early if we're not running in a browser.\nif (typeof window !== 'object') {\n  return;\n}\n\n// Exit early if all IntersectionObserver and IntersectionObserverEntry\n// features are natively supported.\nif ('IntersectionObserver' in window &&\n    'IntersectionObserverEntry' in window &&\n    'intersectionRatio' in window.IntersectionObserverEntry.prototype) {\n\n  // Minimal polyfill for Edge 15's lack of `isIntersecting`\n  // See: https://github.com/w3c/IntersectionObserver/issues/211\n  if (!('isIntersecting' in window.IntersectionObserverEntry.prototype)) {\n    Object.defineProperty(window.IntersectionObserverEntry.prototype,\n      'isIntersecting', {\n      get: function () {\n        return this.intersectionRatio > 0;\n      }\n    });\n  }\n  return;\n}\n\n/**\n * Returns the embedding frame element, if any.\n * @param {!Document} doc\n * @return {!Element}\n */\nfunction getFrameElement(doc) {\n  try {\n    return doc.defaultView && doc.defaultView.frameElement || null;\n  } catch (e) {\n    // Ignore the error.\n    return null;\n  }\n}\n\n/**\n * A local reference to the root document.\n */\nvar document = (function(startDoc) {\n  var doc = startDoc;\n  var frame = getFrameElement(doc);\n  while (frame) {\n    doc = frame.ownerDocument;\n    frame = getFrameElement(doc);\n  }\n  return doc;\n})(window.document);\n\n/**\n * An IntersectionObserver registry. This registry exists to hold a strong\n * reference to IntersectionObserver instances currently observing a target\n * element. Without this registry, instances without another reference may be\n * garbage collected.\n */\nvar registry = [];\n\n/**\n * The signal updater for cross-origin intersection. When not null, it means\n * that the polyfill is configured to work in a cross-origin mode.\n * @type {function(DOMRect|ClientRect, DOMRect|ClientRect)}\n */\nvar crossOriginUpdater = null;\n\n/**\n * The current cross-origin intersection. Only used in the cross-origin mode.\n * @type {DOMRect|ClientRect}\n */\nvar crossOriginRect = null;\n\n\n/**\n * Creates the global IntersectionObserverEntry constructor.\n * https://w3c.github.io/IntersectionObserver/#intersection-observer-entry\n * @param {Object} entry A dictionary of instance properties.\n * @constructor\n */\nfunction IntersectionObserverEntry(entry) {\n  this.time = entry.time;\n  this.target = entry.target;\n  this.rootBounds = ensureDOMRect(entry.rootBounds);\n  this.boundingClientRect = ensureDOMRect(entry.boundingClientRect);\n  this.intersectionRect = ensureDOMRect(entry.intersectionRect || getEmptyRect());\n  this.isIntersecting = !!entry.intersectionRect;\n\n  // Calculates the intersection ratio.\n  var targetRect = this.boundingClientRect;\n  var targetArea = targetRect.width * targetRect.height;\n  var intersectionRect = this.intersectionRect;\n  var intersectionArea = intersectionRect.width * intersectionRect.height;\n\n  // Sets intersection ratio.\n  if (targetArea) {\n    // Round the intersection ratio to avoid floating point math issues:\n    // https://github.com/w3c/IntersectionObserver/issues/324\n    this.intersectionRatio = Number((intersectionArea / targetArea).toFixed(4));\n  } else {\n    // If area is zero and is intersecting, sets to 1, otherwise to 0\n    this.intersectionRatio = this.isIntersecting ? 1 : 0;\n  }\n}\n\n\n/**\n * Creates the global IntersectionObserver constructor.\n * https://w3c.github.io/IntersectionObserver/#intersection-observer-interface\n * @param {Function} callback The function to be invoked after intersection\n *     changes have queued. The function is not invoked if the queue has\n *     been emptied by calling the `takeRecords` method.\n * @param {Object=} opt_options Optional configuration options.\n * @constructor\n */\nfunction IntersectionObserver(callback, opt_options) {\n\n  var options = opt_options || {};\n\n  if (typeof callback != 'function') {\n    throw new Error('callback must be a function');\n  }\n\n  if (\n    options.root &&\n    options.root.nodeType != 1 &&\n    options.root.nodeType != 9\n  ) {\n    throw new Error('root must be a Document or Element');\n  }\n\n  // Binds and throttles `this._checkForIntersections`.\n  this._checkForIntersections = throttle(\n      this._checkForIntersections.bind(this), this.THROTTLE_TIMEOUT);\n\n  // Private properties.\n  this._callback = callback;\n  this._observationTargets = [];\n  this._queuedEntries = [];\n  this._rootMarginValues = this._parseRootMargin(options.rootMargin);\n\n  // Public properties.\n  this.thresholds = this._initThresholds(options.threshold);\n  this.root = options.root || null;\n  this.rootMargin = this._rootMarginValues.map(function(margin) {\n    return margin.value + margin.unit;\n  }).join(' ');\n\n  /** @private @const {!Array<!Document>} */\n  this._monitoringDocuments = [];\n  /** @private @const {!Array<function()>} */\n  this._monitoringUnsubscribes = [];\n}\n\n\n/**\n * The minimum interval within which the document will be checked for\n * intersection changes.\n */\nIntersectionObserver.prototype.THROTTLE_TIMEOUT = 100;\n\n\n/**\n * The frequency in which the polyfill polls for intersection changes.\n * this can be updated on a per instance basis and must be set prior to\n * calling `observe` on the first target.\n */\nIntersectionObserver.prototype.POLL_INTERVAL = null;\n\n/**\n * Use a mutation observer on the root element\n * to detect intersection changes.\n */\nIntersectionObserver.prototype.USE_MUTATION_OBSERVER = true;\n\n\n/**\n * Sets up the polyfill in the cross-origin mode. The result is the\n * updater function that accepts two arguments: `boundingClientRect` and\n * `intersectionRect` - just as these fields would be available to the\n * parent via `IntersectionObserverEntry`. This function should be called\n * each time the iframe receives intersection information from the parent\n * window, e.g. via messaging.\n * @return {function(DOMRect|ClientRect, DOMRect|ClientRect)}\n */\nIntersectionObserver._setupCrossOriginUpdater = function() {\n  if (!crossOriginUpdater) {\n    /**\n     * @param {DOMRect|ClientRect} boundingClientRect\n     * @param {DOMRect|ClientRect} intersectionRect\n     */\n    crossOriginUpdater = function(boundingClientRect, intersectionRect) {\n      if (!boundingClientRect || !intersectionRect) {\n        crossOriginRect = getEmptyRect();\n      } else {\n        crossOriginRect = convertFromParentRect(boundingClientRect, intersectionRect);\n      }\n      registry.forEach(function(observer) {\n        observer._checkForIntersections();\n      });\n    };\n  }\n  return crossOriginUpdater;\n};\n\n\n/**\n * Resets the cross-origin mode.\n */\nIntersectionObserver._resetCrossOriginUpdater = function() {\n  crossOriginUpdater = null;\n  crossOriginRect = null;\n};\n\n\n/**\n * Starts observing a target element for intersection changes based on\n * the thresholds values.\n * @param {Element} target The DOM element to observe.\n */\nIntersectionObserver.prototype.observe = function(target) {\n  var isTargetAlreadyObserved = this._observationTargets.some(function(item) {\n    return item.element == target;\n  });\n\n  if (isTargetAlreadyObserved) {\n    return;\n  }\n\n  if (!(target && target.nodeType == 1)) {\n    throw new Error('target must be an Element');\n  }\n\n  this._registerInstance();\n  this._observationTargets.push({element: target, entry: null});\n  this._monitorIntersections(target.ownerDocument);\n  this._checkForIntersections();\n};\n\n\n/**\n * Stops observing a target element for intersection changes.\n * @param {Element} target The DOM element to observe.\n */\nIntersectionObserver.prototype.unobserve = function(target) {\n  this._observationTargets =\n      this._observationTargets.filter(function(item) {\n        return item.element != target;\n      });\n  this._unmonitorIntersections(target.ownerDocument);\n  if (this._observationTargets.length == 0) {\n    this._unregisterInstance();\n  }\n};\n\n\n/**\n * Stops observing all target elements for intersection changes.\n */\nIntersectionObserver.prototype.disconnect = function() {\n  this._observationTargets = [];\n  this._unmonitorAllIntersections();\n  this._unregisterInstance();\n};\n\n\n/**\n * Returns any queue entries that have not yet been reported to the\n * callback and clears the queue. This can be used in conjunction with the\n * callback to obtain the absolute most up-to-date intersection information.\n * @return {Array} The currently queued entries.\n */\nIntersectionObserver.prototype.takeRecords = function() {\n  var records = this._queuedEntries.slice();\n  this._queuedEntries = [];\n  return records;\n};\n\n\n/**\n * Accepts the threshold value from the user configuration object and\n * returns a sorted array of unique threshold values. If a value is not\n * between 0 and 1 and error is thrown.\n * @private\n * @param {Array|number=} opt_threshold An optional threshold value or\n *     a list of threshold values, defaulting to [0].\n * @return {Array} A sorted list of unique and valid threshold values.\n */\nIntersectionObserver.prototype._initThresholds = function(opt_threshold) {\n  var threshold = opt_threshold || [0];\n  if (!Array.isArray(threshold)) threshold = [threshold];\n\n  return threshold.sort().filter(function(t, i, a) {\n    if (typeof t != 'number' || isNaN(t) || t < 0 || t > 1) {\n      throw new Error('threshold must be a number between 0 and 1 inclusively');\n    }\n    return t !== a[i - 1];\n  });\n};\n\n\n/**\n * Accepts the rootMargin value from the user configuration object\n * and returns an array of the four margin values as an object containing\n * the value and unit properties. If any of the values are not properly\n * formatted or use a unit other than px or %, and error is thrown.\n * @private\n * @param {string=} opt_rootMargin An optional rootMargin value,\n *     defaulting to '0px'.\n * @return {Array<Object>} An array of margin objects with the keys\n *     value and unit.\n */\nIntersectionObserver.prototype._parseRootMargin = function(opt_rootMargin) {\n  var marginString = opt_rootMargin || '0px';\n  var margins = marginString.split(/\\s+/).map(function(margin) {\n    var parts = /^(-?\\d*\\.?\\d+)(px|%)$/.exec(margin);\n    if (!parts) {\n      throw new Error('rootMargin must be specified in pixels or percent');\n    }\n    return {value: parseFloat(parts[1]), unit: parts[2]};\n  });\n\n  // Handles shorthand.\n  margins[1] = margins[1] || margins[0];\n  margins[2] = margins[2] || margins[0];\n  margins[3] = margins[3] || margins[1];\n\n  return margins;\n};\n\n\n/**\n * Starts polling for intersection changes if the polling is not already\n * happening, and if the page's visibility state is visible.\n * @param {!Document} doc\n * @private\n */\nIntersectionObserver.prototype._monitorIntersections = function(doc) {\n  var win = doc.defaultView;\n  if (!win) {\n    // Already destroyed.\n    return;\n  }\n  if (this._monitoringDocuments.indexOf(doc) != -1) {\n    // Already monitoring.\n    return;\n  }\n\n  // Private state for monitoring.\n  var callback = this._checkForIntersections;\n  var monitoringInterval = null;\n  var domObserver = null;\n\n  // If a poll interval is set, use polling instead of listening to\n  // resize and scroll events or DOM mutations.\n  if (this.POLL_INTERVAL) {\n    monitoringInterval = win.setInterval(callback, this.POLL_INTERVAL);\n  } else {\n    addEvent(win, 'resize', callback, true);\n    addEvent(doc, 'scroll', callback, true);\n    if (this.USE_MUTATION_OBSERVER && 'MutationObserver' in win) {\n      domObserver = new win.MutationObserver(callback);\n      domObserver.observe(doc, {\n        attributes: true,\n        childList: true,\n        characterData: true,\n        subtree: true\n      });\n    }\n  }\n\n  this._monitoringDocuments.push(doc);\n  this._monitoringUnsubscribes.push(function() {\n    // Get the window object again. When a friendly iframe is destroyed, it\n    // will be null.\n    var win = doc.defaultView;\n\n    if (win) {\n      if (monitoringInterval) {\n        win.clearInterval(monitoringInterval);\n      }\n      removeEvent(win, 'resize', callback, true);\n    }\n\n    removeEvent(doc, 'scroll', callback, true);\n    if (domObserver) {\n      domObserver.disconnect();\n    }\n  });\n\n  // Also monitor the parent.\n  var rootDoc =\n    (this.root && (this.root.ownerDocument || this.root)) || document;\n  if (doc != rootDoc) {\n    var frame = getFrameElement(doc);\n    if (frame) {\n      this._monitorIntersections(frame.ownerDocument);\n    }\n  }\n};\n\n\n/**\n * Stops polling for intersection changes.\n * @param {!Document} doc\n * @private\n */\nIntersectionObserver.prototype._unmonitorIntersections = function(doc) {\n  var index = this._monitoringDocuments.indexOf(doc);\n  if (index == -1) {\n    return;\n  }\n\n  var rootDoc =\n    (this.root && (this.root.ownerDocument || this.root)) || document;\n\n  // Check if any dependent targets are still remaining.\n  var hasDependentTargets =\n      this._observationTargets.some(function(item) {\n        var itemDoc = item.element.ownerDocument;\n        // Target is in this context.\n        if (itemDoc == doc) {\n          return true;\n        }\n        // Target is nested in this context.\n        while (itemDoc && itemDoc != rootDoc) {\n          var frame = getFrameElement(itemDoc);\n          itemDoc = frame && frame.ownerDocument;\n          if (itemDoc == doc) {\n            return true;\n          }\n        }\n        return false;\n      });\n  if (hasDependentTargets) {\n    return;\n  }\n\n  // Unsubscribe.\n  var unsubscribe = this._monitoringUnsubscribes[index];\n  this._monitoringDocuments.splice(index, 1);\n  this._monitoringUnsubscribes.splice(index, 1);\n  unsubscribe();\n\n  // Also unmonitor the parent.\n  if (doc != rootDoc) {\n    var frame = getFrameElement(doc);\n    if (frame) {\n      this._unmonitorIntersections(frame.ownerDocument);\n    }\n  }\n};\n\n\n/**\n * Stops polling for intersection changes.\n * @param {!Document} doc\n * @private\n */\nIntersectionObserver.prototype._unmonitorAllIntersections = function() {\n  var unsubscribes = this._monitoringUnsubscribes.slice(0);\n  this._monitoringDocuments.length = 0;\n  this._monitoringUnsubscribes.length = 0;\n  for (var i = 0; i < unsubscribes.length; i++) {\n    unsubscribes[i]();\n  }\n};\n\n\n/**\n * Scans each observation target for intersection changes and adds them\n * to the internal entries queue. If new entries are found, it\n * schedules the callback to be invoked.\n * @private\n */\nIntersectionObserver.prototype._checkForIntersections = function() {\n  if (!this.root && crossOriginUpdater && !crossOriginRect) {\n    // Cross origin monitoring, but no initial data available yet.\n    return;\n  }\n\n  var rootIsInDom = this._rootIsInDom();\n  var rootRect = rootIsInDom ? this._getRootRect() : getEmptyRect();\n\n  this._observationTargets.forEach(function(item) {\n    var target = item.element;\n    var targetRect = getBoundingClientRect(target);\n    var rootContainsTarget = this._rootContainsTarget(target);\n    var oldEntry = item.entry;\n    var intersectionRect = rootIsInDom && rootContainsTarget &&\n        this._computeTargetAndRootIntersection(target, targetRect, rootRect);\n\n    var rootBounds = null;\n    if (!this._rootContainsTarget(target)) {\n      rootBounds = getEmptyRect();\n    } else if (!crossOriginUpdater || this.root) {\n      rootBounds = rootRect;\n    }\n\n    var newEntry = item.entry = new IntersectionObserverEntry({\n      time: now(),\n      target: target,\n      boundingClientRect: targetRect,\n      rootBounds: rootBounds,\n      intersectionRect: intersectionRect\n    });\n\n    if (!oldEntry) {\n      this._queuedEntries.push(newEntry);\n    } else if (rootIsInDom && rootContainsTarget) {\n      // If the new entry intersection ratio has crossed any of the\n      // thresholds, add a new entry.\n      if (this._hasCrossedThreshold(oldEntry, newEntry)) {\n        this._queuedEntries.push(newEntry);\n      }\n    } else {\n      // If the root is not in the DOM or target is not contained within\n      // root but the previous entry for this target had an intersection,\n      // add a new record indicating removal.\n      if (oldEntry && oldEntry.isIntersecting) {\n        this._queuedEntries.push(newEntry);\n      }\n    }\n  }, this);\n\n  if (this._queuedEntries.length) {\n    this._callback(this.takeRecords(), this);\n  }\n};\n\n\n/**\n * Accepts a target and root rect computes the intersection between then\n * following the algorithm in the spec.\n * TODO(philipwalton): at this time clip-path is not considered.\n * https://w3c.github.io/IntersectionObserver/#calculate-intersection-rect-algo\n * @param {Element} target The target DOM element\n * @param {Object} targetRect The bounding rect of the target.\n * @param {Object} rootRect The bounding rect of the root after being\n *     expanded by the rootMargin value.\n * @return {?Object} The final intersection rect object or undefined if no\n *     intersection is found.\n * @private\n */\nIntersectionObserver.prototype._computeTargetAndRootIntersection =\n    function(target, targetRect, rootRect) {\n  // If the element isn't displayed, an intersection can't happen.\n  if (window.getComputedStyle(target).display == 'none') return;\n\n  var intersectionRect = targetRect;\n  var parent = getParentNode(target);\n  var atRoot = false;\n\n  while (!atRoot && parent) {\n    var parentRect = null;\n    var parentComputedStyle = parent.nodeType == 1 ?\n        window.getComputedStyle(parent) : {};\n\n    // If the parent isn't displayed, an intersection can't happen.\n    if (parentComputedStyle.display == 'none') return null;\n\n    if (parent == this.root || parent.nodeType == /* DOCUMENT */ 9) {\n      atRoot = true;\n      if (parent == this.root || parent == document) {\n        if (crossOriginUpdater && !this.root) {\n          if (!crossOriginRect ||\n              crossOriginRect.width == 0 && crossOriginRect.height == 0) {\n            // A 0-size cross-origin intersection means no-intersection.\n            parent = null;\n            parentRect = null;\n            intersectionRect = null;\n          } else {\n            parentRect = crossOriginRect;\n          }\n        } else {\n          parentRect = rootRect;\n        }\n      } else {\n        // Check if there's a frame that can be navigated to.\n        var frame = getParentNode(parent);\n        var frameRect = frame && getBoundingClientRect(frame);\n        var frameIntersect =\n            frame &&\n            this._computeTargetAndRootIntersection(frame, frameRect, rootRect);\n        if (frameRect && frameIntersect) {\n          parent = frame;\n          parentRect = convertFromParentRect(frameRect, frameIntersect);\n        } else {\n          parent = null;\n          intersectionRect = null;\n        }\n      }\n    } else {\n      // If the element has a non-visible overflow, and it's not the <body>\n      // or <html> element, update the intersection rect.\n      // Note: <body> and <html> cannot be clipped to a rect that's not also\n      // the document rect, so no need to compute a new intersection.\n      var doc = parent.ownerDocument;\n      if (parent != doc.body &&\n          parent != doc.documentElement &&\n          parentComputedStyle.overflow != 'visible') {\n        parentRect = getBoundingClientRect(parent);\n      }\n    }\n\n    // If either of the above conditionals set a new parentRect,\n    // calculate new intersection data.\n    if (parentRect) {\n      intersectionRect = computeRectIntersection(parentRect, intersectionRect);\n    }\n    if (!intersectionRect) break;\n    parent = parent && getParentNode(parent);\n  }\n  return intersectionRect;\n};\n\n\n/**\n * Returns the root rect after being expanded by the rootMargin value.\n * @return {ClientRect} The expanded root rect.\n * @private\n */\nIntersectionObserver.prototype._getRootRect = function() {\n  var rootRect;\n  if (this.root && !isDoc(this.root)) {\n    rootRect = getBoundingClientRect(this.root);\n  } else {\n    // Use <html>/<body> instead of window since scroll bars affect size.\n    var doc = isDoc(this.root) ? this.root : document;\n    var html = doc.documentElement;\n    var body = doc.body;\n    rootRect = {\n      top: 0,\n      left: 0,\n      right: html.clientWidth || body.clientWidth,\n      width: html.clientWidth || body.clientWidth,\n      bottom: html.clientHeight || body.clientHeight,\n      height: html.clientHeight || body.clientHeight\n    };\n  }\n  return this._expandRectByRootMargin(rootRect);\n};\n\n\n/**\n * Accepts a rect and expands it by the rootMargin value.\n * @param {DOMRect|ClientRect} rect The rect object to expand.\n * @return {ClientRect} The expanded rect.\n * @private\n */\nIntersectionObserver.prototype._expandRectByRootMargin = function(rect) {\n  var margins = this._rootMarginValues.map(function(margin, i) {\n    return margin.unit == 'px' ? margin.value :\n        margin.value * (i % 2 ? rect.width : rect.height) / 100;\n  });\n  var newRect = {\n    top: rect.top - margins[0],\n    right: rect.right + margins[1],\n    bottom: rect.bottom + margins[2],\n    left: rect.left - margins[3]\n  };\n  newRect.width = newRect.right - newRect.left;\n  newRect.height = newRect.bottom - newRect.top;\n\n  return newRect;\n};\n\n\n/**\n * Accepts an old and new entry and returns true if at least one of the\n * threshold values has been crossed.\n * @param {?IntersectionObserverEntry} oldEntry The previous entry for a\n *    particular target element or null if no previous entry exists.\n * @param {IntersectionObserverEntry} newEntry The current entry for a\n *    particular target element.\n * @return {boolean} Returns true if a any threshold has been crossed.\n * @private\n */\nIntersectionObserver.prototype._hasCrossedThreshold =\n    function(oldEntry, newEntry) {\n\n  // To make comparing easier, an entry that has a ratio of 0\n  // but does not actually intersect is given a value of -1\n  var oldRatio = oldEntry && oldEntry.isIntersecting ?\n      oldEntry.intersectionRatio || 0 : -1;\n  var newRatio = newEntry.isIntersecting ?\n      newEntry.intersectionRatio || 0 : -1;\n\n  // Ignore unchanged ratios\n  if (oldRatio === newRatio) return;\n\n  for (var i = 0; i < this.thresholds.length; i++) {\n    var threshold = this.thresholds[i];\n\n    // Return true if an entry matches a threshold or if the new ratio\n    // and the old ratio are on the opposite sides of a threshold.\n    if (threshold == oldRatio || threshold == newRatio ||\n        threshold < oldRatio !== threshold < newRatio) {\n      return true;\n    }\n  }\n};\n\n\n/**\n * Returns whether or not the root element is an element and is in the DOM.\n * @return {boolean} True if the root element is an element and is in the DOM.\n * @private\n */\nIntersectionObserver.prototype._rootIsInDom = function() {\n  return !this.root || containsDeep(document, this.root);\n};\n\n\n/**\n * Returns whether or not the target element is a child of root.\n * @param {Element} target The target element to check.\n * @return {boolean} True if the target element is a child of root.\n * @private\n */\nIntersectionObserver.prototype._rootContainsTarget = function(target) {\n  var rootDoc =\n    (this.root && (this.root.ownerDocument || this.root)) || document;\n  return (\n    containsDeep(rootDoc, target) &&\n    (!this.root || rootDoc == target.ownerDocument)\n  );\n};\n\n\n/**\n * Adds the instance to the global IntersectionObserver registry if it isn't\n * already present.\n * @private\n */\nIntersectionObserver.prototype._registerInstance = function() {\n  if (registry.indexOf(this) < 0) {\n    registry.push(this);\n  }\n};\n\n\n/**\n * Removes the instance from the global IntersectionObserver registry.\n * @private\n */\nIntersectionObserver.prototype._unregisterInstance = function() {\n  var index = registry.indexOf(this);\n  if (index != -1) registry.splice(index, 1);\n};\n\n\n/**\n * Returns the result of the performance.now() method or null in browsers\n * that don't support the API.\n * @return {number} The elapsed time since the page was requested.\n */\nfunction now() {\n  return window.performance && performance.now && performance.now();\n}\n\n\n/**\n * Throttles a function and delays its execution, so it's only called at most\n * once within a given time period.\n * @param {Function} fn The function to throttle.\n * @param {number} timeout The amount of time that must pass before the\n *     function can be called again.\n * @return {Function} The throttled function.\n */\nfunction throttle(fn, timeout) {\n  var timer = null;\n  return function () {\n    if (!timer) {\n      timer = setTimeout(function() {\n        fn();\n        timer = null;\n      }, timeout);\n    }\n  };\n}\n\n\n/**\n * Adds an event handler to a DOM node ensuring cross-browser compatibility.\n * @param {Node} node The DOM node to add the event handler to.\n * @param {string} event The event name.\n * @param {Function} fn The event handler to add.\n * @param {boolean} opt_useCapture Optionally adds the even to the capture\n *     phase. Note: this only works in modern browsers.\n */\nfunction addEvent(node, event, fn, opt_useCapture) {\n  if (typeof node.addEventListener == 'function') {\n    node.addEventListener(event, fn, opt_useCapture || false);\n  }\n  else if (typeof node.attachEvent == 'function') {\n    node.attachEvent('on' + event, fn);\n  }\n}\n\n\n/**\n * Removes a previously added event handler from a DOM node.\n * @param {Node} node The DOM node to remove the event handler from.\n * @param {string} event The event name.\n * @param {Function} fn The event handler to remove.\n * @param {boolean} opt_useCapture If the event handler was added with this\n *     flag set to true, it should be set to true here in order to remove it.\n */\nfunction removeEvent(node, event, fn, opt_useCapture) {\n  if (typeof node.removeEventListener == 'function') {\n    node.removeEventListener(event, fn, opt_useCapture || false);\n  }\n  else if (typeof node.detatchEvent == 'function') {\n    node.detatchEvent('on' + event, fn);\n  }\n}\n\n\n/**\n * Returns the intersection between two rect objects.\n * @param {Object} rect1 The first rect.\n * @param {Object} rect2 The second rect.\n * @return {?Object|?ClientRect} The intersection rect or undefined if no\n *     intersection is found.\n */\nfunction computeRectIntersection(rect1, rect2) {\n  var top = Math.max(rect1.top, rect2.top);\n  var bottom = Math.min(rect1.bottom, rect2.bottom);\n  var left = Math.max(rect1.left, rect2.left);\n  var right = Math.min(rect1.right, rect2.right);\n  var width = right - left;\n  var height = bottom - top;\n\n  return (width >= 0 && height >= 0) && {\n    top: top,\n    bottom: bottom,\n    left: left,\n    right: right,\n    width: width,\n    height: height\n  } || null;\n}\n\n\n/**\n * Shims the native getBoundingClientRect for compatibility with older IE.\n * @param {Element} el The element whose bounding rect to get.\n * @return {DOMRect|ClientRect} The (possibly shimmed) rect of the element.\n */\nfunction getBoundingClientRect(el) {\n  var rect;\n\n  try {\n    rect = el.getBoundingClientRect();\n  } catch (err) {\n    // Ignore Windows 7 IE11 \"Unspecified error\"\n    // https://github.com/w3c/IntersectionObserver/pull/205\n  }\n\n  if (!rect) return getEmptyRect();\n\n  // Older IE\n  if (!(rect.width && rect.height)) {\n    rect = {\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom,\n      left: rect.left,\n      width: rect.right - rect.left,\n      height: rect.bottom - rect.top\n    };\n  }\n  return rect;\n}\n\n\n/**\n * Returns an empty rect object. An empty rect is returned when an element\n * is not in the DOM.\n * @return {ClientRect} The empty rect.\n */\nfunction getEmptyRect() {\n  return {\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    width: 0,\n    height: 0\n  };\n}\n\n\n/**\n * Ensure that the result has all of the necessary fields of the DOMRect.\n * Specifically this ensures that `x` and `y` fields are set.\n *\n * @param {?DOMRect|?ClientRect} rect\n * @return {?DOMRect}\n */\nfunction ensureDOMRect(rect) {\n  // A `DOMRect` object has `x` and `y` fields.\n  if (!rect || 'x' in rect) {\n    return rect;\n  }\n  // A IE's `ClientRect` type does not have `x` and `y`. The same is the case\n  // for internally calculated Rect objects. For the purposes of\n  // `IntersectionObserver`, it's sufficient to simply mirror `left` and `top`\n  // for these fields.\n  return {\n    top: rect.top,\n    y: rect.top,\n    bottom: rect.bottom,\n    left: rect.left,\n    x: rect.left,\n    right: rect.right,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\n\n/**\n * Inverts the intersection and bounding rect from the parent (frame) BCR to\n * the local BCR space.\n * @param {DOMRect|ClientRect} parentBoundingRect The parent's bound client rect.\n * @param {DOMRect|ClientRect} parentIntersectionRect The parent's own intersection rect.\n * @return {ClientRect} The local root bounding rect for the parent's children.\n */\nfunction convertFromParentRect(parentBoundingRect, parentIntersectionRect) {\n  var top = parentIntersectionRect.top - parentBoundingRect.top;\n  var left = parentIntersectionRect.left - parentBoundingRect.left;\n  return {\n    top: top,\n    left: left,\n    height: parentIntersectionRect.height,\n    width: parentIntersectionRect.width,\n    bottom: top + parentIntersectionRect.height,\n    right: left + parentIntersectionRect.width\n  };\n}\n\n\n/**\n * Checks to see if a parent element contains a child element (including inside\n * shadow DOM).\n * @param {Node} parent The parent element.\n * @param {Node} child The child element.\n * @return {boolean} True if the parent node contains the child node.\n */\nfunction containsDeep(parent, child) {\n  var node = child;\n  while (node) {\n    if (node == parent) return true;\n\n    node = getParentNode(node);\n  }\n  return false;\n}\n\n\n/**\n * Gets the parent node of an element or its host element if the parent node\n * is a shadow root.\n * @param {Node} node The node whose parent to get.\n * @return {Node|null} The parent node or null if no parent exists.\n */\nfunction getParentNode(node) {\n  var parent = node.parentNode;\n\n  if (node.nodeType == /* DOCUMENT */ 9 && node != document) {\n    // If this node is a document node, look for the embedding frame.\n    return getFrameElement(node);\n  }\n\n  // If the parent has element that is assigned through shadow root slot\n  if (parent && parent.assignedSlot) {\n    parent = parent.assignedSlot.parentNode\n  }\n\n  if (parent && parent.nodeType == 11 && parent.host) {\n    // If the parent is a shadow root, return the host element.\n    return parent.host;\n  }\n\n  return parent;\n}\n\n/**\n * Returns true if `node` is a Document.\n * @param {!Node} node\n * @returns {boolean}\n */\nfunction isDoc(node) {\n  return node && node.nodeType === 9;\n}\n\n\n// Exposes the constructors globally.\nwindow.IntersectionObserver = IntersectionObserver;\nwindow.IntersectionObserverEntry = IntersectionObserverEntry;\n\n}());\n","/**\n *\n *\n * @author Jerry Bendy <jerry@icewingcc.com>\n * @licence MIT\n *\n */\n\n(function(self) {\n    'use strict';\n\n    var nativeURLSearchParams = (function() {\n            // #41 Fix issue in RN\n            try {\n                if (self.URLSearchParams && (new self.URLSearchParams('foo=bar')).get('foo') === 'bar') {\n                    return self.URLSearchParams;\n                }\n            } catch (e) {}\n            return null;\n        })(),\n        isSupportObjectConstructor = nativeURLSearchParams && (new nativeURLSearchParams({a: 1})).toString() === 'a=1',\n        // There is a bug in safari 10.1 (and earlier) that incorrectly decodes `%2B` as an empty space and not a plus.\n        decodesPlusesCorrectly = nativeURLSearchParams && (new nativeURLSearchParams('s=%2B').get('s') === '+'),\n        __URLSearchParams__ = \"__URLSearchParams__\",\n        // Fix bug in Edge which cannot encode ' &' correctly\n        encodesAmpersandsCorrectly = nativeURLSearchParams ? (function() {\n            var ampersandTest = new nativeURLSearchParams();\n            ampersandTest.append('s', ' &');\n            return ampersandTest.toString() === 's=+%26';\n        })() : true,\n        prototype = URLSearchParamsPolyfill.prototype,\n        iterable = !!(self.Symbol && self.Symbol.iterator);\n\n    if (nativeURLSearchParams && isSupportObjectConstructor && decodesPlusesCorrectly && encodesAmpersandsCorrectly) {\n        return;\n    }\n\n\n    /**\n     * Make a URLSearchParams instance\n     *\n     * @param {object|string|URLSearchParams} search\n     * @constructor\n     */\n    function URLSearchParamsPolyfill(search) {\n        search = search || \"\";\n\n        // support construct object with another URLSearchParams instance\n        if (search instanceof URLSearchParams || search instanceof URLSearchParamsPolyfill) {\n            search = search.toString();\n        }\n        this [__URLSearchParams__] = parseToDict(search);\n    }\n\n\n    /**\n     * Appends a specified key/value pair as a new search parameter.\n     *\n     * @param {string} name\n     * @param {string} value\n     */\n    prototype.append = function(name, value) {\n        appendTo(this [__URLSearchParams__], name, value);\n    };\n\n    /**\n     * Deletes the given search parameter, and its associated value,\n     * from the list of all search parameters.\n     *\n     * @param {string} name\n     */\n    prototype['delete'] = function(name) {\n        delete this [__URLSearchParams__] [name];\n    };\n\n    /**\n     * Returns the first value associated to the given search parameter.\n     *\n     * @param {string} name\n     * @returns {string|null}\n     */\n    prototype.get = function(name) {\n        var dict = this [__URLSearchParams__];\n        return this.has(name) ? dict[name][0] : null;\n    };\n\n    /**\n     * Returns all the values association with a given search parameter.\n     *\n     * @param {string} name\n     * @returns {Array}\n     */\n    prototype.getAll = function(name) {\n        var dict = this [__URLSearchParams__];\n        return this.has(name) ? dict [name].slice(0) : [];\n    };\n\n    /**\n     * Returns a Boolean indicating if such a search parameter exists.\n     *\n     * @param {string} name\n     * @returns {boolean}\n     */\n    prototype.has = function(name) {\n        return hasOwnProperty(this [__URLSearchParams__], name);\n    };\n\n    /**\n     * Sets the value associated to a given search parameter to\n     * the given value. If there were several values, delete the\n     * others.\n     *\n     * @param {string} name\n     * @param {string} value\n     */\n    prototype.set = function set(name, value) {\n        this [__URLSearchParams__][name] = ['' + value];\n    };\n\n    /**\n     * Returns a string containg a query string suitable for use in a URL.\n     *\n     * @returns {string}\n     */\n    prototype.toString = function() {\n        var dict = this[__URLSearchParams__], query = [], i, key, name, value;\n        for (key in dict) {\n            name = encode(key);\n            for (i = 0, value = dict[key]; i < value.length; i++) {\n                query.push(name + '=' + encode(value[i]));\n            }\n        }\n        return query.join('&');\n    };\n\n    // There is a bug in Safari 10.1 and `Proxy`ing it is not enough.\n    var forSureUsePolyfill = !decodesPlusesCorrectly;\n    var useProxy = (!forSureUsePolyfill && nativeURLSearchParams && !isSupportObjectConstructor && self.Proxy);\n    var propValue; \n    if (useProxy) {\n        // Safari 10.0 doesn't support Proxy, so it won't extend URLSearchParams on safari 10.0\n        propValue = new Proxy(nativeURLSearchParams, {\n            construct: function (target, args) {\n                return new target((new URLSearchParamsPolyfill(args[0]).toString()));\n            }\n        })\n        // Chrome <=60 .toString() on a function proxy got error \"Function.prototype.toString is not generic\"\n        propValue.toString = Function.prototype.toString.bind(URLSearchParamsPolyfill);\n    } else {\n        propValue = URLSearchParamsPolyfill;\n    }\n    /*\n     * Apply polifill to global object and append other prototype into it\n     */\n    Object.defineProperty(self, 'URLSearchParams', {\n        value: propValue\n    });\n\n    var USPProto = self.URLSearchParams.prototype;\n\n    USPProto.polyfill = true;\n\n    /**\n     *\n     * @param {function} callback\n     * @param {object} thisArg\n     */\n    USPProto.forEach = USPProto.forEach || function(callback, thisArg) {\n        var dict = parseToDict(this.toString());\n        Object.getOwnPropertyNames(dict).forEach(function(name) {\n            dict[name].forEach(function(value) {\n                callback.call(thisArg, value, name, this);\n            }, this);\n        }, this);\n    };\n\n    /**\n     * Sort all name-value pairs\n     */\n    USPProto.sort = USPProto.sort || function() {\n        var dict = parseToDict(this.toString()), keys = [], k, i, j;\n        for (k in dict) {\n            keys.push(k);\n        }\n        keys.sort();\n\n        for (i = 0; i < keys.length; i++) {\n            this['delete'](keys[i]);\n        }\n        for (i = 0; i < keys.length; i++) {\n            var key = keys[i], values = dict[key];\n            for (j = 0; j < values.length; j++) {\n                this.append(key, values[j]);\n            }\n        }\n    };\n\n    /**\n     * Returns an iterator allowing to go through all keys of\n     * the key/value pairs contained in this object.\n     *\n     * @returns {function}\n     */\n    USPProto.keys = USPProto.keys || function() {\n        var items = [];\n        this.forEach(function(item, name) {\n            items.push(name);\n        });\n        return makeIterator(items);\n    };\n\n    /**\n     * Returns an iterator allowing to go through all values of\n     * the key/value pairs contained in this object.\n     *\n     * @returns {function}\n     */\n    USPProto.values = USPProto.values || function() {\n        var items = [];\n        this.forEach(function(item) {\n            items.push(item);\n        });\n        return makeIterator(items);\n    };\n\n    /**\n     * Returns an iterator allowing to go through all key/value\n     * pairs contained in this object.\n     *\n     * @returns {function}\n     */\n    USPProto.entries = USPProto.entries || function() {\n        var items = [];\n        this.forEach(function(item, name) {\n            items.push([name, item]);\n        });\n        return makeIterator(items);\n    };\n\n\n    if (iterable) {\n        USPProto[self.Symbol.iterator] = USPProto[self.Symbol.iterator] || USPProto.entries;\n    }\n\n\n    function encode(str) {\n        var replace = {\n            '!': '%21',\n            \"'\": '%27',\n            '(': '%28',\n            ')': '%29',\n            '~': '%7E',\n            '%20': '+',\n            '%00': '\\x00'\n        };\n        return encodeURIComponent(str).replace(/[!'\\(\\)~]|%20|%00/g, function(match) {\n            return replace[match];\n        });\n    }\n\n    function decode(str) {\n        return str\n            .replace(/[ +]/g, '%20')\n            .replace(/(%[a-f0-9]{2})+/ig, function(match) {\n                return decodeURIComponent(match);\n            });\n    }\n\n    function makeIterator(arr) {\n        var iterator = {\n            next: function() {\n                var value = arr.shift();\n                return {done: value === undefined, value: value};\n            }\n        };\n\n        if (iterable) {\n            iterator[self.Symbol.iterator] = function() {\n                return iterator;\n            };\n        }\n\n        return iterator;\n    }\n\n    function parseToDict(search) {\n        var dict = {};\n\n        if (typeof search === \"object\") {\n            // if `search` is an array, treat it as a sequence\n            if (isArray(search)) {\n                for (var i = 0; i < search.length; i++) {\n                    var item = search[i];\n                    if (isArray(item) && item.length === 2) {\n                        appendTo(dict, item[0], item[1]);\n                    } else {\n                        throw new TypeError(\"Failed to construct 'URLSearchParams': Sequence initializer must only contain pair elements\");\n                    }\n                }\n\n            } else {\n                for (var key in search) {\n                    if (search.hasOwnProperty(key)) {\n                        appendTo(dict, key, search[key]);\n                    }\n                }\n            }\n\n        } else {\n            // remove first '?'\n            if (search.indexOf(\"?\") === 0) {\n                search = search.slice(1);\n            }\n\n            var pairs = search.split(\"&\");\n            for (var j = 0; j < pairs.length; j++) {\n                var value = pairs [j],\n                    index = value.indexOf('=');\n\n                if (-1 < index) {\n                    appendTo(dict, decode(value.slice(0, index)), decode(value.slice(index + 1)));\n\n                } else {\n                    if (value) {\n                        appendTo(dict, decode(value), '');\n                    }\n                }\n            }\n        }\n\n        return dict;\n    }\n\n    function appendTo(dict, name, value) {\n        var val = typeof value === 'string' ? value : (\n            value !== null && value !== undefined && typeof value.toString === 'function' ? value.toString() : JSON.stringify(value)\n        );\n\n        // #47 Prevent using `hasOwnProperty` as a property name\n        if (hasOwnProperty(dict, name)) {\n            dict[name].push(val);\n        } else {\n            dict[name] = [val];\n        }\n    }\n\n    function isArray(val) {\n        return !!val && '[object Array]' === Object.prototype.toString.call(val);\n    }\n\n    function hasOwnProperty(obj, prop) {\n        return Object.prototype.hasOwnProperty.call(obj, prop);\n    }\n\n})(typeof global !== 'undefined' ? global : (typeof window !== 'undefined' ? window : this));\n","/*! npm.im/object-fit-images 3.2.4 */\n'use strict';\n\nvar OFI = 'bfred-it:object-fit-images';\nvar propRegex = /(object-fit|object-position)\\s*:\\s*([-.\\w\\s%]+)/g;\nvar testImg = typeof Image === 'undefined' ? {style: {'object-position': 1}} : new Image();\nvar supportsObjectFit = 'object-fit' in testImg.style;\nvar supportsObjectPosition = 'object-position' in testImg.style;\nvar supportsOFI = 'background-size' in testImg.style;\nvar supportsCurrentSrc = typeof testImg.currentSrc === 'string';\nvar nativeGetAttribute = testImg.getAttribute;\nvar nativeSetAttribute = testImg.setAttribute;\nvar autoModeEnabled = false;\n\nfunction createPlaceholder(w, h) {\n\treturn (\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='\" + w + \"' height='\" + h + \"'%3E%3C/svg%3E\");\n}\n\nfunction polyfillCurrentSrc(el) {\n\tif (el.srcset && !supportsCurrentSrc && window.picturefill) {\n\t\tvar pf = window.picturefill._;\n\t\t// parse srcset with picturefill where currentSrc isn't available\n\t\tif (!el[pf.ns] || !el[pf.ns].evaled) {\n\t\t\t// force synchronous srcset parsing\n\t\t\tpf.fillImg(el, {reselect: true});\n\t\t}\n\n\t\tif (!el[pf.ns].curSrc) {\n\t\t\t// force picturefill to parse srcset\n\t\t\tel[pf.ns].supported = false;\n\t\t\tpf.fillImg(el, {reselect: true});\n\t\t}\n\n\t\t// retrieve parsed currentSrc, if any\n\t\tel.currentSrc = el[pf.ns].curSrc || el.src;\n\t}\n}\n\nfunction getStyle(el) {\n\tvar style = getComputedStyle(el).fontFamily;\n\tvar parsed;\n\tvar props = {};\n\twhile ((parsed = propRegex.exec(style)) !== null) {\n\t\tprops[parsed[1]] = parsed[2];\n\t}\n\treturn props;\n}\n\nfunction setPlaceholder(img, width, height) {\n\t// Default: fill width, no height\n\tvar placeholder = createPlaceholder(width || 1, height || 0);\n\n\t// Only set placeholder if it's different\n\tif (nativeGetAttribute.call(img, 'src') !== placeholder) {\n\t\tnativeSetAttribute.call(img, 'src', placeholder);\n\t}\n}\n\nfunction onImageReady(img, callback) {\n\t// naturalWidth is only available when the image headers are loaded,\n\t// this loop will poll it every 100ms.\n\tif (img.naturalWidth) {\n\t\tcallback(img);\n\t} else {\n\t\tsetTimeout(onImageReady, 100, img, callback);\n\t}\n}\n\nfunction fixOne(el) {\n\tvar style = getStyle(el);\n\tvar ofi = el[OFI];\n\tstyle['object-fit'] = style['object-fit'] || 'fill'; // default value\n\n\t// Avoid running where unnecessary, unless OFI had already done its deed\n\tif (!ofi.img) {\n\t\t// fill is the default behavior so no action is necessary\n\t\tif (style['object-fit'] === 'fill') {\n\t\t\treturn;\n\t\t}\n\n\t\t// Where object-fit is supported and object-position isn't (Safari < 10)\n\t\tif (\n\t\t\t!ofi.skipTest && // unless user wants to apply regardless of browser support\n\t\t\tsupportsObjectFit && // if browser already supports object-fit\n\t\t\t!style['object-position'] // unless object-position is used\n\t\t) {\n\t\t\treturn;\n\t\t}\n\t}\n\n\t// keep a clone in memory while resetting the original to a blank\n\tif (!ofi.img) {\n\t\tofi.img = new Image(el.width, el.height);\n\t\tofi.img.srcset = nativeGetAttribute.call(el, \"data-ofi-srcset\") || el.srcset;\n\t\tofi.img.src = nativeGetAttribute.call(el, \"data-ofi-src\") || el.src;\n\n\t\t// preserve for any future cloneNode calls\n\t\t// https://github.com/bfred-it/object-fit-images/issues/53\n\t\tnativeSetAttribute.call(el, \"data-ofi-src\", el.src);\n\t\tif (el.srcset) {\n\t\t\tnativeSetAttribute.call(el, \"data-ofi-srcset\", el.srcset);\n\t\t}\n\n\t\tsetPlaceholder(el, el.naturalWidth || el.width, el.naturalHeight || el.height);\n\n\t\t// remove srcset because it overrides src\n\t\tif (el.srcset) {\n\t\t\tel.srcset = '';\n\t\t}\n\t\ttry {\n\t\t\tkeepSrcUsable(el);\n\t\t} catch (err) {\n\t\t\tif (window.console) {\n\t\t\t\tconsole.warn('https://bit.ly/ofi-old-browser');\n\t\t\t}\n\t\t}\n\t}\n\n\tpolyfillCurrentSrc(ofi.img);\n\n\tel.style.backgroundImage = \"url(\\\"\" + ((ofi.img.currentSrc || ofi.img.src).replace(/\"/g, '\\\\\"')) + \"\\\")\";\n\tel.style.backgroundPosition = style['object-position'] || 'center';\n\tel.style.backgroundRepeat = 'no-repeat';\n\tel.style.backgroundOrigin = 'content-box';\n\n\tif (/scale-down/.test(style['object-fit'])) {\n\t\tonImageReady(ofi.img, function () {\n\t\t\tif (ofi.img.naturalWidth > el.width || ofi.img.naturalHeight > el.height) {\n\t\t\t\tel.style.backgroundSize = 'contain';\n\t\t\t} else {\n\t\t\t\tel.style.backgroundSize = 'auto';\n\t\t\t}\n\t\t});\n\t} else {\n\t\tel.style.backgroundSize = style['object-fit'].replace('none', 'auto').replace('fill', '100% 100%');\n\t}\n\n\tonImageReady(ofi.img, function (img) {\n\t\tsetPlaceholder(el, img.naturalWidth, img.naturalHeight);\n\t});\n}\n\nfunction keepSrcUsable(el) {\n\tvar descriptors = {\n\t\tget: function get(prop) {\n\t\t\treturn el[OFI].img[prop ? prop : 'src'];\n\t\t},\n\t\tset: function set(value, prop) {\n\t\t\tel[OFI].img[prop ? prop : 'src'] = value;\n\t\t\tnativeSetAttribute.call(el, (\"data-ofi-\" + prop), value); // preserve for any future cloneNode\n\t\t\tfixOne(el);\n\t\t\treturn value;\n\t\t}\n\t};\n\tObject.defineProperty(el, 'src', descriptors);\n\tObject.defineProperty(el, 'currentSrc', {\n\t\tget: function () { return descriptors.get('currentSrc'); }\n\t});\n\tObject.defineProperty(el, 'srcset', {\n\t\tget: function () { return descriptors.get('srcset'); },\n\t\tset: function (ss) { return descriptors.set(ss, 'srcset'); }\n\t});\n}\n\nfunction hijackAttributes() {\n\tfunction getOfiImageMaybe(el, name) {\n\t\treturn el[OFI] && el[OFI].img && (name === 'src' || name === 'srcset') ? el[OFI].img : el;\n\t}\n\tif (!supportsObjectPosition) {\n\t\tHTMLImageElement.prototype.getAttribute = function (name) {\n\t\t\treturn nativeGetAttribute.call(getOfiImageMaybe(this, name), name);\n\t\t};\n\n\t\tHTMLImageElement.prototype.setAttribute = function (name, value) {\n\t\t\treturn nativeSetAttribute.call(getOfiImageMaybe(this, name), name, String(value));\n\t\t};\n\t}\n}\n\nfunction fix(imgs, opts) {\n\tvar startAutoMode = !autoModeEnabled && !imgs;\n\topts = opts || {};\n\timgs = imgs || 'img';\n\n\tif ((supportsObjectPosition && !opts.skipTest) || !supportsOFI) {\n\t\treturn false;\n\t}\n\n\t// use imgs as a selector or just select all images\n\tif (imgs === 'img') {\n\t\timgs = document.getElementsByTagName('img');\n\t} else if (typeof imgs === 'string') {\n\t\timgs = document.querySelectorAll(imgs);\n\t} else if (!('length' in imgs)) {\n\t\timgs = [imgs];\n\t}\n\n\t// apply fix to all\n\tfor (var i = 0; i < imgs.length; i++) {\n\t\timgs[i][OFI] = imgs[i][OFI] || {\n\t\t\tskipTest: opts.skipTest\n\t\t};\n\t\tfixOne(imgs[i]);\n\t}\n\n\tif (startAutoMode) {\n\t\tdocument.body.addEventListener('load', function (e) {\n\t\t\tif (e.target.tagName === 'IMG') {\n\t\t\t\tfix(e.target, {\n\t\t\t\t\tskipTest: opts.skipTest\n\t\t\t\t});\n\t\t\t}\n\t\t}, true);\n\t\tautoModeEnabled = true;\n\t\timgs = 'img'; // reset to a generic selector for watchMQ\n\t}\n\n\t// if requested, watch media queries for object-fit change\n\tif (opts.watchMQ) {\n\t\twindow.addEventListener('resize', fix.bind(null, imgs, {\n\t\t\tskipTest: opts.skipTest\n\t\t}));\n\t}\n}\n\nfix.supportsObjectFit = supportsObjectFit;\nfix.supportsObjectPosition = supportsObjectPosition;\n\nhijackAttributes();\n\nmodule.exports = fix;\n","/**\n * Object Fit Videos\n * Polyfill for object-fit and object-position CSS properties on video elements\n * Covers IE9, IE10, IE11, Edge, Safari <10\n *\n * Usage\n * In your CSS, add a special font-family tag for IE/Edge\n * video {\n *   object-fit: cover;\n *   font-family: 'object-fit: cover;';\n * }\n *\n * Before the closing body tag, or whenever the DOM is ready,\n * make the JavaScript call\n * objectFitVideos();\n *\n * All video elements with the special CSS property will be targeted\n *\n * @license  MIT (https://opensource.org/licenses/MIT)\n * @author   Todd Miller <todd.miller@tricomb2b.com>\n * @version  1.0.2\n * @changelog\n * 2016-08-19 - Adds object-position support.\n * 2016-08-19 - Add throttle function for more performant resize events\n * 2016-08-19 - Initial release with object-fit support, and\n *              object-position default 'center'\n * 2016-10-14 - No longer relies on window load event, instead requires a specific\n *              function call to initialize the videos for object fit and position.\n * 2016-11-28 - Support CommonJS environment, courtesy of @msorensson\n * 2016-12-05 - Refactors the throttling function to support IE\n * 2017-09-26 - Fix an issue with autplay not working on polyfilled videos\n *            - Adds the capability to specify elements to polyfill,\n *              instead of just checking every video element for the\n *              CSS property. Slight performance gain in most usecases,\n *              and a bigger gain in a few usecases.\n * 2017-10-24 - Add user agent check to enable polyfill for all Edge browsers.\n *              object-fit is supported on Edge >= 16, but currently just for images.\n */\nvar objectFitVideos = function (videos) {\n  'use strict';\n\n  var isEdge = navigator.userAgent.indexOf('Edge/') >= 0;\n\n  var testImg                = new Image(),\n      supportsObjectFit      = 'object-fit' in testImg.style && !isEdge,\n      supportsObjectPosition = 'object-position' in testImg.style && !isEdge,\n      propRegex              = /(object-fit|object-position)\\s*:\\s*([-\\w\\s%]+)/g;\n\n  if (!supportsObjectFit || !supportsObjectPosition) {\n    initialize(videos);\n    throttle('resize', 'optimizedResize');\n  }\n\n  /**\n   * Parse the style and look for the special font-family tag\n   * @param  {object} $el The element to parse\n   * @return {object}     The font-family properties we're interested in\n   */\n  function getStyle ($el) {\n    var style  = getComputedStyle($el).fontFamily,\n        parsed = null,\n        props  = {};\n\n      while ((parsed = propRegex.exec(style)) !== null) {\n        props[parsed[1]] = parsed[2];\n      }\n\n      if (props['object-position'])\n        return parsePosition(props);\n\n      return props;\n  }\n\n  /**\n   * Initialize all the relevant video elements and get them fitted\n   */\n  function initialize (videos) {\n    var index = -1;\n\n    if (!videos) {\n      // if no videos given, query all video elements\n      videos = document.querySelectorAll('video');\n    } else if (!('length' in videos)) {\n      // convert to an array for proper looping if an array or NodeList\n      // was not given\n      videos = [videos];\n    }\n\n    while (videos[++index]) {\n      var style = getStyle(videos[index]);\n\n      // only do work if the property is on the element\n      if (style['object-fit'] || style['object-position']) {\n        // set the default values\n        style['object-fit'] = style['object-fit'] || 'fill';\n        fitIt(videos[index], style);\n      }\n    }\n  }\n\n  /**\n   * Object Fit\n   * @param  {object} $el Element to fit\n   * @return {object}     The element's relevant properties\n   */\n  function fitIt ($el, style) {\n    // fill is the default behavior, no action is necessary\n    if (style['object-fit'] === 'fill')\n      return;\n\n    // convenience style properties on the source element\n    var setCss = $el.style,\n        getCss = window.getComputedStyle($el);\n\n    // create and insert a wrapper element\n    var $wrap = document.createElement('object-fit');\n    $wrap.appendChild($el.parentNode.replaceChild($wrap, $el));\n\n    // style the wrapper element to mostly match the source element\n    var wrapCss = {\n      height:    '100%',\n      width:     '100%',\n      boxSizing: 'content-box',\n      display:   'inline-block',\n      overflow:  'hidden'\n    };\n\n    'backgroundColor backgroundImage borderColor borderStyle borderWidth bottom fontSize lineHeight left opacity margin position right top visibility'.replace(/\\w+/g, function (key) {\n      wrapCss[key] = getCss[key];\n    });\n\n    for (var key in wrapCss)\n      $wrap.style[key] = wrapCss[key];\n\n    // give the source element some saner styles\n    setCss.border  = setCss.margin = setCss.padding = 0;\n    setCss.display = 'block';\n    setCss.opacity = 1;\n\n    // set up the event handlers\n    $el.addEventListener('loadedmetadata', doWork);\n    window.addEventListener('optimizedResize', doWork);\n\n    // we may have missed the loadedmetadata event, so if the video has loaded\n    // enough data, just drop the event listener and execute\n    if ($el.readyState >= 1) {\n      $el.removeEventListener('loadedmetadata', doWork);\n      doWork();\n    }\n\n    /**\n     * Do the actual sizing. Math.\n     * @methodOf fitIt\n     */\n    function doWork () {\n      // the actual size and ratio of the video\n      // we do this here, even though it doesn't change, because\n      // at this point we can be sure the metadata has loaded\n      var videoWidth  = $el.videoWidth,\n          videoHeight = $el.videoHeight,\n          videoRatio  = videoWidth / videoHeight;\n\n      var wrapWidth  = $wrap.clientWidth,\n          wrapHeight = $wrap.clientHeight,\n          wrapRatio  = wrapWidth / wrapHeight;\n\n      var newHeight = 0,\n          newWidth  = 0;\n      setCss.marginLeft = setCss.marginTop = 0;\n\n      // basically we do the opposite action for contain and cover,\n      // depending on whether the video aspect ratio is less than or\n      // greater than the wrapper's aspect ratio\n      if (videoRatio < wrapRatio ?\n          style['object-fit'] === 'contain' : style['object-fit'] === 'cover') {\n        newHeight = wrapHeight * videoRatio;\n        newWidth  = wrapWidth / videoRatio;\n\n        setCss.width  = Math.round(newHeight) + 'px';\n        setCss.height = wrapHeight + 'px';\n\n        if (style['object-position-x'] === 'left')\n          setCss.marginLeft = 0;\n        else if (style['object-position-x'] === 'right')\n          setCss.marginLeft = Math.round(wrapWidth - newHeight) + 'px';\n        else\n          setCss.marginLeft = Math.round((wrapWidth - newHeight) / 2) + 'px';\n      } else {\n        newWidth = wrapWidth / videoRatio;\n\n        setCss.width     = wrapWidth + 'px';\n        setCss.height    = Math.round(newWidth) + 'px';\n\n        if (style['object-position-y'] === 'top')\n          setCss.marginTop = 0;\n        else if (style['object-position-y'] === 'bottom')\n          setCss.marginTop = Math.round(wrapHeight - newWidth) + 'px';\n        else\n          setCss.marginTop = Math.round((wrapHeight - newWidth) / 2) + 'px';\n      }\n\n      // play the video if autoplay is set\n      if ($el.autoplay)\n        $el.play();\n    }\n  }\n\n  /**\n   * Split the object-position property into x and y position properties\n   * @param  {object} style Relevant element styles\n   * @return {object}       The style object with the added x and y props\n   */\n  function parsePosition (style) {\n    if (~style['object-position'].indexOf('left'))\n      style['object-position-x'] = 'left';\n    else if (~style['object-position'].indexOf('right'))\n      style['object-position-x'] = 'right';\n    else\n      style['object-position-x'] = 'center';\n\n    if (~style['object-position'].indexOf('top'))\n      style['object-position-y'] = 'top';\n    else if (~style['object-position'].indexOf('bottom'))\n      style['object-position-y'] = 'bottom';\n    else\n      style['object-position-y'] = 'center';\n\n    return style;\n  }\n\n  /**\n   * Throttle an event with RequestAnimationFrame API for better performance\n   * @param  {string} type The event to throttle\n   * @param  {string} name Custom event name to listen for\n   * @param  {object} obj  Optional object to attach the event to\n   */\n  function throttle (type, name, obj) {\n    obj = obj || window;\n    var running = false,\n        evt     = null;\n\n    // IE does not support the CustomEvent constructor\n    // so if that fails do it the old way\n    try {\n      evt = new CustomEvent(name);\n    } catch (e) {\n      evt = document.createEvent('Event');\n      evt.initEvent(name, true, true);\n    }\n\n    var func = function () {\n      if (running) return;\n\n      running = true;\n      requestAnimationFrame(function () {\n        obj.dispatchEvent(evt);\n        running = false;\n      });\n    };\n\n    obj.addEventListener(type, func);\n  }\n};\n\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined')\n  module.exports = objectFitVideos;\n","var global =\n  (typeof globalThis !== 'undefined' && globalThis) ||\n  (typeof self !== 'undefined' && self) ||\n  (typeof global !== 'undefined' && global)\n\nvar support = {\n  searchParams: 'URLSearchParams' in global,\n  iterable: 'Symbol' in global && 'iterator' in Symbol,\n  blob:\n    'FileReader' in global &&\n    'Blob' in global &&\n    (function() {\n      try {\n        new Blob()\n        return true\n      } catch (e) {\n        return false\n      }\n    })(),\n  formData: 'FormData' in global,\n  arrayBuffer: 'ArrayBuffer' in global\n}\n\nfunction isDataView(obj) {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nif (support.arrayBuffer) {\n  var viewClasses = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]'\n  ]\n\n  var isArrayBufferView =\n    ArrayBuffer.isView ||\n    function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name)\n  }\n  if (/[^a-z0-9\\-#$%&'*+.^_`|~!]/i.test(name) || name === '') {\n    throw new TypeError('Invalid character in header field name: \"' + name + '\"')\n  }\n  return name.toLowerCase()\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value)\n  }\n  return value\n}\n\n// Build a destructive iterator for the value list\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function() {\n      var value = items.shift()\n      return {done: value === undefined, value: value}\n    }\n  }\n\n  if (support.iterable) {\n    iterator[Symbol.iterator] = function() {\n      return iterator\n    }\n  }\n\n  return iterator\n}\n\nexport function Headers(headers) {\n  this.map = {}\n\n  if (headers instanceof Headers) {\n    headers.forEach(function(value, name) {\n      this.append(name, value)\n    }, this)\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function(header) {\n      this.append(header[0], header[1])\n    }, this)\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function(name) {\n      this.append(name, headers[name])\n    }, this)\n  }\n}\n\nHeaders.prototype.append = function(name, value) {\n  name = normalizeName(name)\n  value = normalizeValue(value)\n  var oldValue = this.map[name]\n  this.map[name] = oldValue ? oldValue + ', ' + value : value\n}\n\nHeaders.prototype['delete'] = function(name) {\n  delete this.map[normalizeName(name)]\n}\n\nHeaders.prototype.get = function(name) {\n  name = normalizeName(name)\n  return this.has(name) ? this.map[name] : null\n}\n\nHeaders.prototype.has = function(name) {\n  return this.map.hasOwnProperty(normalizeName(name))\n}\n\nHeaders.prototype.set = function(name, value) {\n  this.map[normalizeName(name)] = normalizeValue(value)\n}\n\nHeaders.prototype.forEach = function(callback, thisArg) {\n  for (var name in this.map) {\n    if (this.map.hasOwnProperty(name)) {\n      callback.call(thisArg, this.map[name], name, this)\n    }\n  }\n}\n\nHeaders.prototype.keys = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push(name)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.values = function() {\n  var items = []\n  this.forEach(function(value) {\n    items.push(value)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.entries = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push([name, value])\n  })\n  return iteratorFor(items)\n}\n\nif (support.iterable) {\n  Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n}\n\nfunction consumed(body) {\n  if (body.bodyUsed) {\n    return Promise.reject(new TypeError('Already read'))\n  }\n  body.bodyUsed = true\n}\n\nfunction fileReaderReady(reader) {\n  return new Promise(function(resolve, reject) {\n    reader.onload = function() {\n      resolve(reader.result)\n    }\n    reader.onerror = function() {\n      reject(reader.error)\n    }\n  })\n}\n\nfunction readBlobAsArrayBuffer(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nfunction readBlobAsText(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsText(blob)\n  return promise\n}\n\nfunction readArrayBufferAsText(buf) {\n  var view = new Uint8Array(buf)\n  var chars = new Array(view.length)\n\n  for (var i = 0; i < view.length; i++) {\n    chars[i] = String.fromCharCode(view[i])\n  }\n  return chars.join('')\n}\n\nfunction bufferClone(buf) {\n  if (buf.slice) {\n    return buf.slice(0)\n  } else {\n    var view = new Uint8Array(buf.byteLength)\n    view.set(new Uint8Array(buf))\n    return view.buffer\n  }\n}\n\nfunction Body() {\n  this.bodyUsed = false\n\n  this._initBody = function(body) {\n    /*\n      fetch-mock wraps the Response object in an ES6 Proxy to\n      provide useful test harness features such as flush. However, on\n      ES5 browsers without fetch or Proxy support pollyfills must be used;\n      the proxy-pollyfill is unable to proxy an attribute unless it exists\n      on the object before the Proxy is created. This change ensures\n      Response.bodyUsed exists on the instance, while maintaining the\n      semantic of setting Request.bodyUsed in the constructor before\n      _initBody is called.\n    */\n    this.bodyUsed = this.bodyUsed\n    this._bodyInit = body\n    if (!body) {\n      this._bodyText = ''\n    } else if (typeof body === 'string') {\n      this._bodyText = body\n    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n      this._bodyBlob = body\n    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n      this._bodyFormData = body\n    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n      this._bodyText = body.toString()\n    } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n      this._bodyArrayBuffer = bufferClone(body.buffer)\n      // IE 10-11 can't handle a DataView body.\n      this._bodyInit = new Blob([this._bodyArrayBuffer])\n    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n      this._bodyArrayBuffer = bufferClone(body)\n    } else {\n      this._bodyText = body = Object.prototype.toString.call(body)\n    }\n\n    if (!this.headers.get('content-type')) {\n      if (typeof body === 'string') {\n        this.headers.set('content-type', 'text/plain;charset=UTF-8')\n      } else if (this._bodyBlob && this._bodyBlob.type) {\n        this.headers.set('content-type', this._bodyBlob.type)\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n      }\n    }\n  }\n\n  if (support.blob) {\n    this.blob = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return Promise.resolve(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as blob')\n      } else {\n        return Promise.resolve(new Blob([this._bodyText]))\n      }\n    }\n\n    this.arrayBuffer = function() {\n      if (this._bodyArrayBuffer) {\n        var isConsumed = consumed(this)\n        if (isConsumed) {\n          return isConsumed\n        }\n        if (ArrayBuffer.isView(this._bodyArrayBuffer)) {\n          return Promise.resolve(\n            this._bodyArrayBuffer.buffer.slice(\n              this._bodyArrayBuffer.byteOffset,\n              this._bodyArrayBuffer.byteOffset + this._bodyArrayBuffer.byteLength\n            )\n          )\n        } else {\n          return Promise.resolve(this._bodyArrayBuffer)\n        }\n      } else {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n    }\n  }\n\n  this.text = function() {\n    var rejected = consumed(this)\n    if (rejected) {\n      return rejected\n    }\n\n    if (this._bodyBlob) {\n      return readBlobAsText(this._bodyBlob)\n    } else if (this._bodyArrayBuffer) {\n      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n    } else if (this._bodyFormData) {\n      throw new Error('could not read FormData body as text')\n    } else {\n      return Promise.resolve(this._bodyText)\n    }\n  }\n\n  if (support.formData) {\n    this.formData = function() {\n      return this.text().then(decode)\n    }\n  }\n\n  this.json = function() {\n    return this.text().then(JSON.parse)\n  }\n\n  return this\n}\n\n// HTTP methods whose capitalization should be normalized\nvar methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\nfunction normalizeMethod(method) {\n  var upcased = method.toUpperCase()\n  return methods.indexOf(upcased) > -1 ? upcased : method\n}\n\nexport function Request(input, options) {\n  if (!(this instanceof Request)) {\n    throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n  }\n\n  options = options || {}\n  var body = options.body\n\n  if (input instanceof Request) {\n    if (input.bodyUsed) {\n      throw new TypeError('Already read')\n    }\n    this.url = input.url\n    this.credentials = input.credentials\n    if (!options.headers) {\n      this.headers = new Headers(input.headers)\n    }\n    this.method = input.method\n    this.mode = input.mode\n    this.signal = input.signal\n    if (!body && input._bodyInit != null) {\n      body = input._bodyInit\n      input.bodyUsed = true\n    }\n  } else {\n    this.url = String(input)\n  }\n\n  this.credentials = options.credentials || this.credentials || 'same-origin'\n  if (options.headers || !this.headers) {\n    this.headers = new Headers(options.headers)\n  }\n  this.method = normalizeMethod(options.method || this.method || 'GET')\n  this.mode = options.mode || this.mode || null\n  this.signal = options.signal || this.signal\n  this.referrer = null\n\n  if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n    throw new TypeError('Body not allowed for GET or HEAD requests')\n  }\n  this._initBody(body)\n\n  if (this.method === 'GET' || this.method === 'HEAD') {\n    if (options.cache === 'no-store' || options.cache === 'no-cache') {\n      // Search for a '_' parameter in the query string\n      var reParamSearch = /([?&])_=[^&]*/\n      if (reParamSearch.test(this.url)) {\n        // If it already exists then set the value with the current time\n        this.url = this.url.replace(reParamSearch, '$1_=' + new Date().getTime())\n      } else {\n        // Otherwise add a new '_' parameter to the end with the current time\n        var reQueryString = /\\?/\n        this.url += (reQueryString.test(this.url) ? '&' : '?') + '_=' + new Date().getTime()\n      }\n    }\n  }\n}\n\nRequest.prototype.clone = function() {\n  return new Request(this, {body: this._bodyInit})\n}\n\nfunction decode(body) {\n  var form = new FormData()\n  body\n    .trim()\n    .split('&')\n    .forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nfunction parseHeaders(rawHeaders) {\n  var headers = new Headers()\n  // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n  // https://tools.ietf.org/html/rfc7230#section-3.2\n  var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n  // Avoiding split via regex to work around a common IE11 bug with the core-js 3.6.0 regex polyfill\n  // https://github.com/github/fetch/issues/748\n  // https://github.com/zloirock/core-js/issues/751\n  preProcessedHeaders\n    .split('\\r')\n    .map(function(header) {\n      return header.indexOf('\\n') === 0 ? header.substr(1, header.length) : header\n    })\n    .forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n  return headers\n}\n\nBody.call(Request.prototype)\n\nexport function Response(bodyInit, options) {\n  if (!(this instanceof Response)) {\n    throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n  }\n  if (!options) {\n    options = {}\n  }\n\n  this.type = 'default'\n  this.status = options.status === undefined ? 200 : options.status\n  this.ok = this.status >= 200 && this.status < 300\n  this.statusText = options.statusText === undefined ? '' : '' + options.statusText\n  this.headers = new Headers(options.headers)\n  this.url = options.url || ''\n  this._initBody(bodyInit)\n}\n\nBody.call(Response.prototype)\n\nResponse.prototype.clone = function() {\n  return new Response(this._bodyInit, {\n    status: this.status,\n    statusText: this.statusText,\n    headers: new Headers(this.headers),\n    url: this.url\n  })\n}\n\nResponse.error = function() {\n  var response = new Response(null, {status: 0, statusText: ''})\n  response.type = 'error'\n  return response\n}\n\nvar redirectStatuses = [301, 302, 303, 307, 308]\n\nResponse.redirect = function(url, status) {\n  if (redirectStatuses.indexOf(status) === -1) {\n    throw new RangeError('Invalid status code')\n  }\n\n  return new Response(null, {status: status, headers: {location: url}})\n}\n\nexport var DOMException = global.DOMException\ntry {\n  new DOMException()\n} catch (err) {\n  DOMException = function(message, name) {\n    this.message = message\n    this.name = name\n    var error = Error(message)\n    this.stack = error.stack\n  }\n  DOMException.prototype = Object.create(Error.prototype)\n  DOMException.prototype.constructor = DOMException\n}\n\nexport function fetch(input, init) {\n  return new Promise(function(resolve, reject) {\n    var request = new Request(input, init)\n\n    if (request.signal && request.signal.aborted) {\n      return reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    var xhr = new XMLHttpRequest()\n\n    function abortXhr() {\n      xhr.abort()\n    }\n\n    xhr.onload = function() {\n      var options = {\n        status: xhr.status,\n        statusText: xhr.statusText,\n        headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n      }\n      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n      var body = 'response' in xhr ? xhr.response : xhr.responseText\n      setTimeout(function() {\n        resolve(new Response(body, options))\n      }, 0)\n    }\n\n    xhr.onerror = function() {\n      setTimeout(function() {\n        reject(new TypeError('Network request failed'))\n      }, 0)\n    }\n\n    xhr.ontimeout = function() {\n      setTimeout(function() {\n        reject(new TypeError('Network request failed'))\n      }, 0)\n    }\n\n    xhr.onabort = function() {\n      setTimeout(function() {\n        reject(new DOMException('Aborted', 'AbortError'))\n      }, 0)\n    }\n\n    function fixUrl(url) {\n      try {\n        return url === '' && global.location.href ? global.location.href : url\n      } catch (e) {\n        return url\n      }\n    }\n\n    xhr.open(request.method, fixUrl(request.url), true)\n\n    if (request.credentials === 'include') {\n      xhr.withCredentials = true\n    } else if (request.credentials === 'omit') {\n      xhr.withCredentials = false\n    }\n\n    if ('responseType' in xhr) {\n      if (support.blob) {\n        xhr.responseType = 'blob'\n      } else if (\n        support.arrayBuffer &&\n        request.headers.get('Content-Type') &&\n        request.headers.get('Content-Type').indexOf('application/octet-stream') !== -1\n      ) {\n        xhr.responseType = 'arraybuffer'\n      }\n    }\n\n    if (init && typeof init.headers === 'object' && !(init.headers instanceof Headers)) {\n      Object.getOwnPropertyNames(init.headers).forEach(function(name) {\n        xhr.setRequestHeader(name, normalizeValue(init.headers[name]))\n      })\n    } else {\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n    }\n\n    if (request.signal) {\n      request.signal.addEventListener('abort', abortXhr)\n\n      xhr.onreadystatechange = function() {\n        // DONE (success or failure)\n        if (xhr.readyState === 4) {\n          request.signal.removeEventListener('abort', abortXhr)\n        }\n      }\n    }\n\n    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n  })\n}\n\nfetch.polyfill = true\n\nif (!global.fetch) {\n  global.fetch = fetch\n  global.Headers = Headers\n  global.Request = Request\n  global.Response = Response\n}\n","/**\n  stickybits - Stickybits is a lightweight alternative to `position: sticky` polyfills\n  @version v3.7.9\n  @link https://github.com/yowainwright/stickybits#readme\n  @author Jeff Wainwright <yowainwright@gmail.com> (https://jeffry.in)\n  @license MIT\n**/\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\n/*\n  STICKYBITS \n  --------\n  > a lightweight alternative to `position: sticky` polyfills \n  --------\n  - each method is documented above it our view the readme\n  - Stickybits does not manage polymorphic functionality (position like properties)\n  * polymorphic functionality: (in the context of describing Stickybits)\n    means making things like `position: sticky` be loosely supported with position fixed.\n    It also means that features like `useStickyClasses` takes on styles like `position: fixed`.\n  --------\n  defaults \n  --------\n  - version = `package.json` version\n  - userAgent = viewer browser agent\n  - target = DOM element selector\n  - noStyles = boolean\n  - offset = number\n  - parentClass = 'string'\n  - scrollEl = window || DOM element selector || DOM element\n  - stickyClass = 'string'\n  - stuckClass = 'string'\n  - useStickyClasses = boolean\n  - useFixed = boolean\n  - useGetBoundingClientRect = boolean\n  - verticalPosition = 'string'\n  - applyStyle = function\n  --------\n  props\n  --------\n  - p = props {object}\n  --------\n  instance note\n  --------\n  - stickybits parent methods return this\n  - stickybits instance methods return an instance item\n  --------\n  nomenclature\n  --------\n  - target => el => e\n  - props => o || p\n  - instance => item => it\n  --------\n  methods\n  --------\n  - .definePosition = defines sticky or fixed\n  - .addInstance = an array of objects for each Stickybits Target\n  - .getClosestParent = gets the parent for non-window scroll\n  - .getTopPosition = gets the element top pixel position from the viewport\n  - .computeScrollOffsets = computes scroll position\n  - .toggleClasses = older browser toggler\n  - .manageState = manages sticky state\n  - .removeInstance = removes an instance\n  - .cleanup = removes all Stickybits instances and cleans up dom from stickybits\n*/\nvar Stickybits = /*#__PURE__*/function () {\n  function Stickybits(target, obj) {\n    var _this = this;\n\n    var o = typeof obj !== 'undefined' ? obj : {};\n    this.version = '3.7.9';\n    this.userAgent = window.navigator.userAgent || 'no `userAgent` provided by the browser';\n    this.props = {\n      customStickyChangeNumber: o.customStickyChangeNumber || null,\n      noStyles: o.noStyles || false,\n      stickyBitStickyOffset: o.stickyBitStickyOffset || 0,\n      parentClass: o.parentClass || 'js-stickybit-parent',\n      scrollEl: typeof o.scrollEl === 'string' ? document.querySelector(o.scrollEl) : o.scrollEl || window,\n      stickyClass: o.stickyClass || 'js-is-sticky',\n      stuckClass: o.stuckClass || 'js-is-stuck',\n      stickyChangeClass: o.stickyChangeClass || 'js-is-sticky--change',\n      useStickyClasses: o.useStickyClasses || false,\n      useFixed: o.useFixed || false,\n      useGetBoundingClientRect: o.useGetBoundingClientRect || false,\n      verticalPosition: o.verticalPosition || 'top',\n      applyStyle: o.applyStyle || function (item, style) {\n        return _this.applyStyle(item, style);\n      }\n    };\n    /*\n      define positionVal after the setting of props, because definePosition looks at the props.useFixed\n      ----\n      -  uses a computed (`.definePosition()`)\n      -  defined the position\n    */\n\n    this.props.positionVal = this.definePosition() || 'fixed';\n    this.instances = [];\n    var _this$props = this.props,\n        positionVal = _this$props.positionVal,\n        verticalPosition = _this$props.verticalPosition,\n        noStyles = _this$props.noStyles,\n        stickyBitStickyOffset = _this$props.stickyBitStickyOffset;\n    var verticalPositionStyle = verticalPosition === 'top' && !noStyles ? stickyBitStickyOffset + \"px\" : '';\n    var positionStyle = positionVal !== 'fixed' ? positionVal : '';\n    this.els = typeof target === 'string' ? document.querySelectorAll(target) : target;\n    if (!('length' in this.els)) this.els = [this.els];\n\n    for (var i = 0; i < this.els.length; i++) {\n      var _styles;\n\n      var el = this.els[i];\n      var instance = this.addInstance(el, this.props); // set vertical position\n\n      this.props.applyStyle({\n        styles: (_styles = {}, _styles[verticalPosition] = verticalPositionStyle, _styles.position = positionStyle, _styles),\n        classes: {}\n      }, instance);\n      this.manageState(instance); // instances are an array of objects\n\n      this.instances.push(instance);\n    }\n  }\n  /*\n    setStickyPosition \n    --------\n      most basic thing stickybits does\n    => checks to see if position sticky is supported\n    => defined the position to be used\n    => stickybits works accordingly\n  */\n\n\n  var _proto = Stickybits.prototype;\n\n  _proto.definePosition = function definePosition() {\n    var stickyProp;\n\n    if (this.props.useFixed) {\n      stickyProp = 'fixed';\n    } else {\n      var prefix = ['', '-o-', '-webkit-', '-moz-', '-ms-'];\n      var test = document.head.style;\n\n      for (var i = 0; i < prefix.length; i += 1) {\n        test.position = prefix[i] + \"sticky\";\n      }\n\n      stickyProp = test.position ? test.position : 'fixed';\n      test.position = '';\n    }\n\n    return stickyProp;\n  }\n  /*\n    addInstance \n    --------\n     manages instances of items\n    - takes in an el and props\n    - returns an item object\n    ---\n    - target = el\n    - o = {object} = props\n      - scrollEl = 'string' | object\n      - verticalPosition = number\n      - off = boolean\n      - parentClass = 'string'\n      - stickyClass = 'string'\n      - stuckClass = 'string'\n    ---\n    - defined later\n      - parent = dom element\n      - state = 'string'\n      - offset = number\n      - stickyStart = number\n      - stickyStop = number\n    - returns an instance object\n  */\n  ;\n\n  _proto.addInstance = function addInstance(el, props) {\n    var _this2 = this;\n\n    var item = {\n      el: el,\n      parent: el.parentNode,\n      props: props\n    };\n\n    if (props.positionVal === 'fixed' || props.useStickyClasses) {\n      this.isWin = this.props.scrollEl === window;\n      var se = this.isWin ? window : this.getClosestParent(item.el, item.props.scrollEl);\n      this.computeScrollOffsets(item);\n      this.toggleClasses(item.parent, '', props.parentClass);\n      item.state = 'default';\n      item.stateChange = 'default';\n\n      item.stateContainer = function () {\n        return _this2.manageState(item);\n      };\n\n      se.addEventListener('scroll', item.stateContainer);\n    }\n\n    return item;\n  }\n  /*\n    --------\n    getParent \n    --------\n    - a helper function that gets the target element's parent selected el\n    - only used for non `window` scroll elements\n    - supports older browsers\n  */\n  ;\n\n  _proto.getClosestParent = function getClosestParent(el, match) {\n    // p = parent element\n    var p = match;\n    var e = el;\n    if (e.parentElement === p) return p; // traverse up the dom tree until we get to the parent\n\n    while (e.parentElement !== p) {\n      e = e.parentElement;\n    } // return parent element\n\n\n    return p;\n  }\n  /*\n    --------\n    getTopPosition\n    --------\n    - a helper function that gets the topPosition of a Stickybit element\n    - from the top level of the DOM\n  */\n  ;\n\n  _proto.getTopPosition = function getTopPosition(el) {\n    if (this.props.useGetBoundingClientRect) {\n      return el.getBoundingClientRect().top + (this.props.scrollEl.pageYOffset || document.documentElement.scrollTop);\n    }\n\n    var topPosition = 0;\n\n    do {\n      topPosition = el.offsetTop + topPosition;\n    } while (el = el.offsetParent);\n\n    return topPosition;\n  }\n  /*\n    computeScrollOffsets \n    ---\n    computeScrollOffsets for Stickybits\n    - defines\n      - offset\n      - start\n      - stop\n  */\n  ;\n\n  _proto.computeScrollOffsets = function computeScrollOffsets(item) {\n    var it = item;\n    var p = it.props;\n    var el = it.el;\n    var parent = it.parent;\n    var isCustom = !this.isWin && p.positionVal === 'fixed';\n    var isTop = p.verticalPosition !== 'bottom';\n    var scrollElOffset = isCustom ? this.getTopPosition(p.scrollEl) : 0;\n    var stickyStart = isCustom ? this.getTopPosition(parent) - scrollElOffset : this.getTopPosition(parent);\n    var stickyChangeOffset = p.customStickyChangeNumber !== null ? p.customStickyChangeNumber : el.offsetHeight;\n    var parentBottom = stickyStart + parent.offsetHeight;\n    it.offset = !isCustom ? scrollElOffset + p.stickyBitStickyOffset : 0;\n    it.stickyStart = isTop ? stickyStart - it.offset : 0;\n    it.stickyChange = it.stickyStart + stickyChangeOffset;\n    it.stickyStop = isTop ? parentBottom - (el.offsetHeight + it.offset) : parentBottom - window.innerHeight;\n  }\n  /*\n    toggleClasses \n    ---\n    toggles classes (for older browser support)\n    r = removed class\n    a = added class\n  */\n  ;\n\n  _proto.toggleClasses = function toggleClasses(el, r, a) {\n    var e = el;\n    var cArray = e.className.split(' ');\n    if (a && cArray.indexOf(a) === -1) cArray.push(a);\n    var rItem = cArray.indexOf(r);\n    if (rItem !== -1) cArray.splice(rItem, 1);\n    e.className = cArray.join(' ');\n  }\n  /*\n    manageState \n    ---\n    - defines the state\n      - normal\n      - sticky\n      - stuck\n  */\n  ;\n\n  _proto.manageState = function manageState(item) {\n    var _this3 = this;\n\n    // cache object\n    var it = item;\n    var p = it.props;\n    var state = it.state;\n    var stateChange = it.stateChange;\n    var start = it.stickyStart;\n    var change = it.stickyChange;\n    var stop = it.stickyStop; // cache props\n\n    var pv = p.positionVal;\n    var se = p.scrollEl;\n    var sticky = p.stickyClass;\n    var stickyChange = p.stickyChangeClass;\n    var stuck = p.stuckClass;\n    var vp = p.verticalPosition;\n    var isTop = vp !== 'bottom';\n    var aS = p.applyStyle;\n    var ns = p.noStyles;\n    /*\n      requestAnimationFrame\n      ---\n      - use rAF\n      - or stub rAF\n    */\n\n    var rAFStub = function rAFDummy(f) {\n      f();\n    };\n\n    var rAF = !this.isWin ? rAFStub : window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || rAFStub;\n    /*\n      define scroll vars\n      ---\n      - scroll\n      - notSticky\n      - isSticky\n      - isStuck\n    */\n\n    var scroll = this.isWin ? window.scrollY || window.pageYOffset : se.scrollTop;\n    var notSticky = scroll > start && scroll < stop && (state === 'default' || state === 'stuck');\n    var isSticky = isTop && scroll <= start && (state === 'sticky' || state === 'stuck');\n    var isStuck = scroll >= stop && state === 'sticky';\n    /*\n      Unnamed arrow functions within this block\n      ---\n      - help wanted or discussion\n      - view test.stickybits.js\n        - `stickybits .manageState  `position: fixed` interface` for more awareness \n    */\n\n    if (notSticky) {\n      it.state = 'sticky';\n    } else if (isSticky) {\n      it.state = 'default';\n    } else if (isStuck) {\n      it.state = 'stuck';\n    }\n\n    var isStickyChange = scroll >= change && scroll <= stop;\n    var isNotStickyChange = scroll < change / 2 || scroll > stop;\n\n    if (isNotStickyChange) {\n      it.stateChange = 'default';\n    } else if (isStickyChange) {\n      it.stateChange = 'sticky';\n    } // Only apply new styles if the state has changed\n\n\n    if (state === it.state && stateChange === it.stateChange) return;\n    rAF(function () {\n      var _styles2, _classes, _styles3, _extends2, _classes2, _style$classes;\n\n      var stateStyles = {\n        sticky: {\n          styles: (_styles2 = {\n            position: pv,\n            top: '',\n            bottom: ''\n          }, _styles2[vp] = p.stickyBitStickyOffset + \"px\", _styles2),\n          classes: (_classes = {}, _classes[sticky] = true, _classes)\n        },\n        default: {\n          styles: (_styles3 = {}, _styles3[vp] = '', _styles3),\n          classes: {}\n        },\n        stuck: {\n          styles: _extends((_extends2 = {}, _extends2[vp] = '', _extends2), pv === 'fixed' && !ns || !_this3.isWin ? {\n            position: 'absolute',\n            top: '',\n            bottom: '0'\n          } : {}),\n          classes: (_classes2 = {}, _classes2[stuck] = true, _classes2)\n        }\n      };\n\n      if (pv === 'fixed') {\n        stateStyles.default.styles.position = '';\n      }\n\n      var style = stateStyles[it.state];\n      style.classes = (_style$classes = {}, _style$classes[stuck] = !!style.classes[stuck], _style$classes[sticky] = !!style.classes[sticky], _style$classes[stickyChange] = isStickyChange, _style$classes);\n      aS(style, item);\n    });\n  }\n  /*\n    applyStyle\n    ---\n    - apply the given styles and classes to the element\n  */\n  ;\n\n  _proto.applyStyle = function applyStyle(_ref, item) {\n    var styles = _ref.styles,\n        classes = _ref.classes;\n    // cache object\n    var it = item;\n    var e = it.el;\n    var p = it.props;\n    var stl = e.style; // cache props\n\n    var ns = p.noStyles;\n    var cArray = e.className.split(' '); // Disable due to bug with old versions of eslint-scope and for ... in\n    // https://github.com/eslint/eslint/issues/12117\n    // eslint-disable-next-line no-unused-vars\n\n    for (var cls in classes) {\n      var addClass = classes[cls];\n\n      if (addClass) {\n        if (cArray.indexOf(cls) === -1) cArray.push(cls);\n      } else {\n        var idx = cArray.indexOf(cls);\n        if (idx !== -1) cArray.splice(idx, 1);\n      }\n    }\n\n    e.className = cArray.join(' ');\n\n    if (styles['position']) {\n      stl['position'] = styles['position'];\n    }\n\n    if (ns) return; // eslint-disable-next-line no-unused-vars\n\n    for (var key in styles) {\n      stl[key] = styles[key];\n    }\n  };\n\n  _proto.update = function update(updatedProps) {\n    var _this4 = this;\n\n    if (updatedProps === void 0) {\n      updatedProps = null;\n    }\n\n    this.instances.forEach(function (instance) {\n      _this4.computeScrollOffsets(instance);\n\n      if (updatedProps) {\n        // eslint-disable-next-line no-unused-vars\n        for (var updatedProp in updatedProps) {\n          instance.props[updatedProp] = updatedProps[updatedProp];\n        }\n      }\n    });\n    return this;\n  }\n  /*\n    removes an instance \n    --------\n    - cleanup instance\n  */\n  ;\n\n  _proto.removeInstance = function removeInstance(instance) {\n    var _styles4, _classes3;\n\n    var e = instance.el;\n    var p = instance.props;\n    this.applyStyle({\n      styles: (_styles4 = {\n        position: ''\n      }, _styles4[p.verticalPosition] = '', _styles4),\n      classes: (_classes3 = {}, _classes3[p.stickyClass] = '', _classes3[p.stuckClass] = '', _classes3)\n    }, instance);\n    this.toggleClasses(e.parentNode, p.parentClass);\n  }\n  /*\n    cleanup \n    --------\n    - cleans up each instance\n    - clears instance\n  */\n  ;\n\n  _proto.cleanup = function cleanup() {\n    for (var i = 0; i < this.instances.length; i += 1) {\n      var instance = this.instances[i];\n\n      if (instance.stateContainer) {\n        instance.props.scrollEl.removeEventListener('scroll', instance.stateContainer);\n      }\n\n      this.removeInstance(instance);\n    }\n\n    this.manageState = false;\n    this.instances = [];\n  };\n\n  return Stickybits;\n}();\n/*\n  export\n  --------\n  exports StickBits to be used \n*/\n\n\nfunction stickybits(target, o) {\n  return new Stickybits(target, o);\n}\n\nexport default stickybits;\n","/**\n * Polyfills\n *\n * @package Embark\n * @since   1.0.1\n */\n\nimport 'core-js/modules/es.array.iterator';\nimport 'core-js/modules/es.object.assign';\nimport 'picturefill';\nimport 'intersection-observer';\nimport 'url-search-params-polyfill';\nimport 'whatwg-fetch';\nimport stickybits from 'stickybits';\nimport objectFitImages from 'object-fit-images';\nimport objectFitVideos from 'object-fit-videos';\n\n/**\n * Sticky elements (IE support) with Stickybits.\n * Stickybits is a lightweight alternative to position: sticky polyfills.\n * It works perfectly for things like sticky headers.\n *\n * @reference: https://github.com/dollarshaveclub/stickybits\n */\nstickybits('.sticky', { scrollEl: 'body' });\n\n/**\n * Initialize object-fit images and videos for unsupported browsers.\n */\nobjectFitImages();\nobjectFitVideos();\n\n/**\n * Cross-browser requestAnimationFrame function.\n *\n * @since 1.0.1\n//  */\nwindow.requestAnimationFrame = window.requestAnimationFrame\n|| window.mozRequestAnimationFrame\n|| window.webkitRequestAnimationFrame\n|| window.msRequestAnimationFrame\n|| function (f) { setTimeout(f, 1000 / 60); };\n\n/**\n * Element.closest() Polyfill\n *\n * @link https://developer.mozilla.org/en-US/docs/Web/API/Element/closest#Polyfill\n */\nif (!Element.prototype.matches) {\n\tElement.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n}\nif (!Element.prototype.closest) {\n\tElement.prototype.closest = function (s) {\n\t\tlet el = this;\n\t\tdo {\n\t\t\tif (el.matches(s)) return el;\n\t\t\tel = el.parentElement || el.parentNode;\n\t\t} while (el !== null && el.nodeType === 1);\n\t\treturn null;\n\t};\n}\n"],"sourceRoot":""}